##### LLM INPUT #####
================================ System Message ================================

You are a developer. Your task is to install dependencies and set up a environment that is able to run the tests of the project.

- You start with an initial Docker container based on ubuntu:22.04.
- You interact with a Bash session inside this container.
- Project files are located in /testbed within the container, and your current working directory of bash is already set to /testbed.
- No need to clone the project again.

The final objective is to successfully run the tests of the project.


### JavaScript/Node.js-Specific Instructions:
- Use npm, yarn, or pnpm to install dependencies (check package.json and lockfiles)
- Run `npm install` or `yarn install` to install dependencies
- Check package.json for test scripts and build commands
- Consider using `npm ci` for faster, reproducible builds if package-lock.json exists
- Install global dependencies if needed (e.g., `npm install -g typescript`)


================================ Human Message =================================


You run in a loop of Thought, Action, Observation.
At the end of the loop you should use Action to stop the loop.

Use Thought to describe your thoughts about the question you have been asked.
Use Action to run one of the actions available to you.
Observation will be the result of running those actions.
> Important Note: Each step, reply with only **one** (Thought, Action) pair.
> Important Note: Do not reply **Observation**, it will be provided by the system.

Your available actions are:

    Command: run a command in the bash, reply with following format, your command should not require sudo or interactive input:
        <command>bash command</command>
        e.g. install build-essential: <command>apt-get install -y build-essential</command>
        e.g. view file content: <command>cat README.md</command>
    Search: search the web for if you need some information, generate query and reply with following format:
        <search>the search query</search>
        e.g. <search>how to fix 'No module named setuptools'</search>
        e.g. <search>how to install python3 on ubuntu</search>
        e.g. <search>how to create development environment for python3</search>
    Stop: stop the setup loop once you think the setup is complete, reply with following format:
        <stop></stop>
    

Observation will be the result of running those actions.


Project Structure: the structure of the project, including files and directories.
Related Files: the content of related files of the project that may help you understand the project.
Thought: you should always think about what to do
Action: <command>your bash command here</command> or <search>your search query</search> or other actions available
Observation: the result of the action
... (this Thought/Action/Observation can repeat N times) ...
Thought: I think the setup should be fine
Action: <stop>stop the setup</stop>
Answer: the final result

Begin!
Project Structure: üìÇ 
/home/hagon/Project/msb/EnvAgent/git/EnvBench/baseline_RepoLaunch/SWE-bench-Live/laun
ch/playground/EnvPilot_baseline/nasa__openmct-7986/repo
‚î£‚îÅ‚îÅ üìÇ .circleci
‚î£‚îÅ‚îÅ üìÇ .github
‚î£‚îÅ‚îÅ üìÇ .vscode
‚î£‚îÅ‚îÅ üìÇ .webpack
‚î£‚îÅ‚îÅ üìÇ docs
‚î£‚îÅ‚îÅ üìÇ e2e
‚î£‚îÅ‚îÅ üìÇ example
‚î£‚îÅ‚îÅ üìÇ src
‚î£‚îÅ‚îÅ üìÑ .cspell.json
‚î£‚îÅ‚îÅ üìÑ .eslintrc.cjs
‚î£‚îÅ‚îÅ üìÑ .git-blame-ignore-revs
‚î£‚îÅ‚îÅ üìÑ .npmignore
‚î£‚îÅ‚îÅ üìÑ .npmrc
‚î£‚îÅ‚îÅ üìÑ .nvmrc
‚î£‚îÅ‚îÅ üìÑ .prettierignore
‚î£‚îÅ‚îÅ üìÑ .prettierrc
‚î£‚îÅ‚îÅ üìÑ API.md
‚î£‚îÅ‚îÅ üìÑ build-docs.sh
‚î£‚îÅ‚îÅ üìÑ codecov.yml
‚î£‚îÅ‚îÅ üìÑ CONTRIBUTING.md
‚î£‚îÅ‚îÅ üìÑ copyright-notice.html
‚î£‚îÅ‚îÅ üìÑ copyright-notice.js
‚î£‚îÅ‚îÅ üìÑ index-test.cjs
‚î£‚îÅ‚îÅ üìÑ index.html
‚î£‚îÅ‚îÅ üìÑ karma.conf.cjs
‚î£‚îÅ‚îÅ üìÑ LICENSE.md
‚î£‚îÅ‚îÅ üìÑ openmct.js
‚î£‚îÅ‚îÅ üìÑ package-lock.json
‚î£‚îÅ‚îÅ üìÑ package.json
‚î£‚îÅ‚îÅ üìÑ README.md
‚î£‚îÅ‚îÅ üìÑ SECURITY.md
‚î£‚îÅ‚îÅ üìÑ TESTING.md
‚îó‚îÅ‚îÅ üìÑ tsconfig.json

Related Files: ------ BEGIN RELATED FILES ------
File: karma.conf.cjs
```
/*****************************************************************************
 * Open MCT, Copyright (c) 2014-2024, United States Government
 * as represented by the Administrator of the National Aeronautics and Space
 * Administration. All rights reserved.
 *
 * Open MCT is licensed under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0.
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 *
 * Open MCT includes source code licensed under additional open source
 * licenses. See the Open Source Licenses file (LICENSES.md) included with
 * this source code distribution or the Licensing information page available
 * at runtime from the About dialog for additional information.
 *****************************************************************************/

// eslint-disable-next-line func-style
const loadWebpackConfig = async () => {
  if (process.env.KARMA_DEBUG) {
    return {
      config: (await import('./.webpack/webpack.dev.mjs')).default,
      browsers: ['ChromeDebugging'],
      singleRun: false
    };
  } else {
    return {
      config: (await import('./.webpack/webpack.coverage.mjs')).default,
      browsers: ['ChromeHeadless'],
      singleRun: true
    };
  }
};

module.exports = async (config) => {
  const { config: webpackConfig, browsers, singleRun } = await loadWebpackConfig();

  // Adjust webpack config for Karma
  delete webpackConfig.output;
  delete webpackConfig.entry; // Karma doesn't support webpack entry

  // Ensure source maps are enabled for better debugging
  webpackConfig.devtool = 'inline-source-map';

  config.set({
    basePath: '',
    frameworks: ['jasmine', 'webpack'],
    files: [
      'index-test.cjs',
      // included means: should the files be included in the browser using <script> tag?
      // We don't want them as a <script> because the shared worker source
      // needs loaded remotely by the shared worker process.
      {
        pattern: 'dist/couchDBChangesFeed.js*',
        included: false
      },
      {
        pattern: 'dist/inMemorySearchWorker.js*',
        included: false
      },
      {
        pattern: 'dist/generatorWorker.js*',
        included: false
      }
    ],
    port: 9876,
    reporters: ['spec', 'junit', 'coverage-istanbul'],
    browsers,
    client: {
      jasmine: {
        random: false,
        timeoutInterval: 5000
      }
    },
    customLaunchers: {
      ChromeDebugging: {
        base: 'Chrome',
        flags: ['--remote-debugging-port=9222'],
        debug: true
      }
    },
    colors: true,
    logLevel: config.LOG_INFO,
    autoWatch: true,
    junitReporter: {
      outputDir: 'dist/reports/tests', //Useful for CircleCI
      outputFile: 'test-results.xml', //Useful for CircleCI
      useBrowserName: false //Disable since we only want chrome
    },
    coverageIstanbulReporter: {
      fixWebpackSourcePaths: true,
      skipFilesWithNoCoverage: true,
      dir: 'coverage/unit', //Sets coverage file to be consumed by codecov.io
      reports: ['lcovonly']
    },
    specReporter: {
      maxLogLines: 5,
      suppressErrorSummary: false,
      suppressFailed: false,
      suppressPassed: false,
      suppressSkipped: true,
      showSpecTiming: true,
      failFast: false
    },
    preprocessors: {
      'index-test.cjs': ['webpack', 'sourcemap']
    },
    webpack: webpackConfig,
    webpackMiddleware: {
      stats: 'detailed' // Changed to 'detailed' for more debugging info
    },
    concurrency: 1,
    singleRun,
    browserNoActivityTimeout: 400000
  });
};

```
File: package.json
```
{
  "name": "openmct",
  "version": "4.1.0-next",
  "description": "The Open MCT core platform",
  "module": "dist/openmct.js",
  "main": "dist/openmct.js",
  "types": "dist/types/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/openmct.js",
      "require": "./dist/openmct.js"
    }
  },
  "workspaces": [
    "e2e"
  ],
  "devDependencies": {
    "@babel/eslint-parser": "7.23.3",
    "@braintree/sanitize-url": "6.0.4",
    "@types/d3-axis": "3.0.6",
    "@types/d3-scale": "4.0.8",
    "@types/d3-selection": "3.0.10",
    "@types/d3-shape": "3.0.0",
    "@types/eventemitter3": "1.2.0",
    "@types/jasmine": "5.1.2",
    "@types/lodash": "4.17.0",
    "@vue/compiler-sfc": "3.4.3",
    "babel-loader": "9.1.0",
    "babel-plugin-istanbul": "6.1.1",
    "comma-separated-values": "3.6.4",
    "copy-webpack-plugin": "12.0.2",
    "cspell": "7.3.8",
    "css-loader": "6.10.0",
    "d3-axis": "3.0.0",
    "d3-scale": "4.0.2",
    "d3-selection": "3.0.0",
    "d3-shape": "3.0.0",
    "eslint": "8.56.0",
    "eslint-config-prettier": "9.1.0",
    "eslint-plugin-compat": "4.2.0",
    "eslint-plugin-no-unsanitized": "4.0.2",
    "eslint-plugin-playwright": "1.5.2",
    "eslint-plugin-prettier": "5.1.3",
    "eslint-plugin-simple-import-sort": "10.0.0",
    "eslint-plugin-unicorn": "49.0.0",
    "eslint-plugin-vue": "9.22.0",
    "eslint-plugin-you-dont-need-lodash-underscore": "6.13.0",
    "eventemitter3": "5.0.1",
    "file-saver": "2.0.5",
    "flatbush": "4.2.0",
    "git-rev-sync": "3.0.2",
    "html2canvas": "1.4.1",
    "imports-loader": "5.0.0",
    "jasmine-core": "5.1.1",
    "karma": "6.4.2",
    "karma-chrome-launcher": "3.2.0",
    "karma-cli": "2.0.0",
    "karma-coverage": "2.2.0",
    "karma-coverage-istanbul-reporter": "3.0.3",
    "karma-jasmine": "5.1.0",
    "karma-junit-reporter": "2.0.1",
    "karma-sourcemap-loader": "0.4.0",
    "karma-spec-reporter": "0.0.36",
    "karma-webpack": "5.0.1",
    "location-bar": "3.0.1",
    "lodash": "4.17.21",
    "marked": "12.0.0",
    "mini-css-extract-plugin": "2.7.6",
    "moment": "2.30.1",
    "moment-duration-format": "2.3.2",
    "moment-timezone": "0.5.41",
    "nano": "10.1.4",
    "npm-run-all2": "6.1.2",
    "nyc": "15.1.0",
    "painterro": "1.2.87",
    "plotly.js-basic-dist-min": "2.29.1",
    "plotly.js-gl2d-dist-min": "2.20.0",
    "prettier": "3.2.5",
    "prettier-eslint": "16.3.0",
    "printj": "1.3.1",
    "resolve-url-loader": "5.0.0",
    "sanitize-html": "2.12.1",
    "sass": "1.71.1",
    "sass-loader": "14.1.1",
    "style-loader": "3.3.3",
    "terser-webpack-plugin": "5.3.9",
    "tiny-emitter": "2.1.0",
    "typescript": "5.3.3",
    "uuid": "9.0.1",
    "vue": "3.4.24",
    "vue-eslint-parser": "9.4.2",
    "vue-loader": "16.8.3",
    "webpack": "5.90.3",
    "webpack-cli": "5.1.1",
    "webpack-dev-server": "5.0.2",
    "webpack-merge": "5.10.0"
  },
  "scripts": {
    "clean": "rm -rf ./dist ./node_modules ./coverage ./html-test-results ./e2e/test-results ./.nyc_output ./e2e/.nyc_output",
    "start": "npx webpack serve --config ./.webpack/webpack.dev.mjs",
    "start:prod": "npx webpack serve --config ./.webpack/webpack.prod.mjs",
    "start:coverage": "npx webpack serve --config ./.webpack/webpack.coverage.mjs",
    "lint:js": "eslint \"example/**/*.js\" \"src/**/*.js\" \"e2e/**/*.js\" \"openmct.js\" --max-warnings=0",
    "lint:vue": "eslint \"src/**/*.vue\"",
    "lint:spelling": "cspell \"**/*.{js,md,vue}\" --show-context --gitignore --quiet",
    "lint": "run-p \"lint:js -- {1}\" \"lint:vue -- {1}\" \"lint:spelling -- {1}\" --",
    "lint:fix": "eslint example src e2e --ext .js,.vue openmct.js --fix",
    "build:prod": "webpack --config ./.webpack/webpack.prod.mjs",
    "build:dev": "webpack --config ./.webpack/webpack.dev.mjs",
    "build:coverage": "webpack --config ./.webpack/webpack.coverage.mjs",
    "build:watch": "webpack --config ./.webpack/webpack.dev.mjs --watch",
    "info": "npx envinfo --system --browsers --npmPackages --binaries --languages --markdown",
    "test": "karma start karma.conf.cjs",
    "test:debug": "KARMA_DEBUG=true karma start karma.conf.cjs",
    "test:e2e": "npm test --workspace e2e",
    "test:e2e:a11y": "npm test --workspace e2e -- --config=playwright-visual-a11y.config.js --project=chrome --grep @a11y",
    "test:e2e:mobile": "npm test --workspace e2e -- --config=playwright-mobile.config.js",
    "test:e2e:couchdb": "npm test --workspace e2e -- --config=playwright-ci.config.js --project=chrome --grep @couchdb --workers=1",
    "test:e2e:ci": "npm test --workspace e2e -- --config=playwright-ci.config.js --project=chrome --grep-invert \"@couchdb|@generatedata\"",
    "test:e2e:local": "npm test --workspace e2e -- --config=playwright-local.config.js --project=chrome",
    "test:e2e:generatedata": "npm test --workspace e2e -- --config=playwright-ci.config.js --project=chrome --grep @generatedata",
    "test:e2e:checksnapshots": "npm test --workspace e2e -- --config=playwright-ci.config.js --project=chrome --grep @snapshot --retries=0",
    "test:e2e:updatesnapshots": "npm test --workspace e2e -- --config=playwright-ci.config.js --project=chrome --grep @snapshot --update-snapshots",
    "test:e2e:visual:ci": "npm run test:visual --workspace e2e -- --config .percy.ci.yml --partial -- npx playwright test --config=playwright-visual-a11y.config.js --project=chrome",
    "test:e2e:visual:full": "npm run test:visual --workspace e2e -- --config .percy.nightly.yml -- npx playwright test --config=playwright-visual-a11y.config.js",
    "test:e2e:full": "npm test --workspace e2e -- --config=playwright-ci.config.js --grep-invert @couchdb",
    "test:e2e:watch": "npm test --workspace e2e -- --ui --config=playwright-watch.config.js",
    "test:perf:contract": "npm test --workspace e2e -- --config=playwright-performance-dev.config.js",
    "test:perf:localhost": "npm test --workspace e2e -- --config=playwright-performance-prod.config.js --project=chrome",
    "test:perf:memory": "npm test --workspace e2e -- --config=playwright-performance-prod.config.js --project=chrome-memory",
    "update-about-dialog-copyright": "perl -pi -e 's/20\\d\\d\\-202\\d/2014\\-2024/gm' ./src/ui/layout/AboutDialog.vue",
    "update-copyright-date": "npm run update-about-dialog-copyright && grep -lr --null --include=*.{js,scss,vue,ts,sh,html,md,frag} 'Copyright (c) 20' . | xargs -r0 perl -pi -e 's/Copyright\\s\\(c\\)\\s20\\d\\d\\-20\\d\\d/Copyright \\(c\\)\\ 2014\\-2024/gm'",
    "cov:e2e:report": "nyc report --reporter=lcovonly --report-dir=./coverage/e2e",
    "prepare": "npm run build:prod && npx tsc"
  },
  "homepage": "https://nasa.github.io/openmct",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/nasa/openmct.git"
  },
  "engines": {
    "node": ">=18.14.2 <23"
  },
  "browserslist": [
    "Firefox ESR",
    "not IE 11",
    "last 2 Chrome versions",
    "unreleased Chrome versions",
    "ios_saf >= 16",
    "Safari >= 16"
  ],
  "author": {
    "name": "National Aeronautics and Space Administration",
    "url": "https://www.nasa.gov"
  },
  "license": "Apache-2.0",
  "keywords": [
    "nasa"
  ]
}

```
File: API.md
```
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**

- [Developing Applications With Open MCT](#developing-applications-with-open-mct)
  - [Scope and purpose of this document](#scope-and-purpose-of-this-document)
  - [Building From Source](#building-from-source)
  - [Starting an Open MCT application](#starting-an-open-mct-application)
  - [Types](#types)
    - [Using Types](#using-types)
    - [Limitations](#limitations)
  - [Plugins](#plugins)
    - [Defining and Installing a New Plugin](#defining-and-installing-a-new-plugin)
  - [Domain Objects and Identifiers](#domain-objects-and-identifiers)
    - [Object Attributes](#object-attributes)
    - [Domain Object Types](#domain-object-types)
  - [Root Objects](#root-objects)
  - [Object Providers](#object-providers)
  - [Composition Providers](#composition-providers)
    - [Adding Composition Providers](#adding-composition-providers)
    - [Default Composition Provider](#default-composition-provider)
  - [Telemetry API](#telemetry-api)
    - [Integrating Telemetry Sources](#integrating-telemetry-sources)
      - [Telemetry Metadata](#telemetry-metadata)
        - [Values](#values)
          - [Value Hints](#value-hints)
        - [The Time Conductor and Telemetry](#the-time-conductor-and-telemetry)
      - [Telemetry Providers](#telemetry-providers)
      - [Telemetry Requests and Responses](#telemetry-requests-and-responses)
      - [Request Strategies **draft**](#request-strategies-draft)
        - [`latest` request strategy](#latest-request-strategy)
        - [`minmax` request strategy](#minmax-request-strategy)
      - [Telemetry Formats](#telemetry-formats)
        - [Registering Formats](#registering-formats)
      - [Telemetry Data](#telemetry-data)
        - [Telemetry Datums](#telemetry-datums)
      - [Limit Evaluators **draft**](#limit-evaluators-draft)
    - [Telemetry Consumer APIs **draft**](#telemetry-consumer-apis-draft)
  - [Time API](#time-api)
    - [Time Systems and Bounds](#time-systems-and-bounds)
      - [Defining and Registering Time Systems](#defining-and-registering-time-systems)
      - [Getting and Setting the Active Time System](#getting-and-setting-the-active-time-system)
      - [Time Bounds](#time-bounds)
    - [Clocks](#clocks)
      - [Defining and registering clocks](#defining-and-registering-clocks)
      - [Getting and setting active clock](#getting-and-setting-active-clock)
      - [‚ö†Ô∏è \[DEPRECATED\] Stopping an active clock](#Ô∏è-deprecated-stopping-an-active-clock)
      - [Clock Offsets](#clock-offsets)
    - [Time Modes](#time-modes)
      - [Time Mode Helper Methods](#time-mode-helper-methods)
    - [Time Events](#time-events)
      - [List of Time Events](#list-of-time-events)
    - [The Time Conductor](#the-time-conductor)
      - [Time Conductor Configuration](#time-conductor-configuration)
      - [Example conductor configuration](#example-conductor-configuration)
  - [Indicators](#indicators)
    - [The URL Status Indicator](#the-url-status-indicator)
    - [Creating a Simple Indicator](#creating-a-simple-indicator)
    - [Custom Indicators](#custom-indicators)
  - [Priority API](#priority-api)
    - [Priority Types](#priority-types)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# Developing Applications With Open MCT

## Scope and purpose of this document

This document is intended to serve as a reference for developing an application
based on Open MCT. It will provide details of the API functions necessary to
extend the Open MCT platform meet common use cases such as integrating with a telemetry source.

The best place to start is with the [Open MCT Tutorials](https://github.com/nasa/openmct-tutorial).
These will walk you through the process of getting up and running with Open
MCT, as well as addressing some common developer use cases.

## Building From Source

The latest version of Open MCT is available from [our GitHub repository](https://github.com/nasa/openmct).
If you have `git`, and `node` installed, you can build Open MCT with the commands

```bash
git clone https://github.com/nasa/openmct.git
cd openmct
npm install
```

These commands will fetch the Open MCT source from our GitHub repository, and
build a minified version that can be included in your application. The output
of the build process is placed in a `dist` folder under the openmct source
directory, which can be copied out to another location as needed. The contents
of this folder will include a minified javascript file named `openmct.js` as
well as assets such as html, css, and images necessary for the UI.

## Starting an Open MCT application

> [!WARNING]
> Open MCT provides a development server via `webpack-dev-server` (`npm start`). **This should be used for development purposes only and should never be deployed to a production environment**.

To start a minimally functional Open MCT application, it is necessary to
include the Open MCT distributable, enable some basic plugins, and bootstrap
the application. The tutorials walk through the process of getting Open MCT up
and running from scratch, but provided below is a minimal HTML template that
includes Open MCT, installs some basic plugins, and bootstraps the application.
It assumes that Open MCT is installed under an `openmct` subdirectory, as
described in [Building From Source](#building-from-source).

This approach includes openmct using a simple script tag, resulting in a global
variable named `openmct`. This `openmct` object is used subsequently to make
API calls.

Open MCT is packaged as a UMD (Universal Module Definition) module, so common
script loaders are also supported.

```html
<!DOCTYPE html>
<html>
<head>
    <title>Open MCT</title>
    <script src="dist/openmct.js"></script>
</head>
<body>
    <script>
        openmct.install(openmct.plugins.LocalStorage());
        openmct.install(openmct.plugins.MyItems());
        openmct.install(openmct.plugins.UTCTimeSystem());
        openmct.start();
    </script>
</body>
</html>
```

The Open MCT library included above requires certain assets such as html
templates, images, and css. If you installed Open MCT from GitHub as described
in the section on [Building from Source](#building-from-source) then these
assets will have been downloaded along with the Open MCT javascript library.

There are some plugins bundled with the application that provide UI,
persistence, and other default configuration which are necessary to be able to
do anything with the application initially. Any of these plugins can, in
principle, be replaced with a custom plugin. The included plugins are
documented in the [Included Plugins](#included-plugins) section.  

## Types

The Open MCT library includes its own TypeScript declaration files which can be
used to provide code hints and typechecking in your own Open MCT application.

Open MCT's type declarations are generated via `tsc` from JSDoc-style comment
blocks. For more information on this, [check out TypeScript's documentation](https://www.typescriptlang.org/docs/handbook/declaration-files/dts-from-js.html).

### Using Types

In order to use Open MCT's provided types in your own application, create a
`jsconfig.js` at the root of your project with this minimal configuration:

```json
{
  "compilerOptions": {
    "baseUrl": "./",
      "target": "es6",
      "checkJs": true,
      "moduleResolution": "node",
      "paths": {
        "openmct": ["node_modules/openmct/dist/openmct.d.ts"]
      }
  }
}
```

Then, simply import and use `openmct` in your application:

```js
import openmct from "openmct";
```

### Limitations

The effort to add types for Open MCT's public API is ongoing, and the provided
type declarations may be incomplete.

If you would like to contribute types to Open MCT, please check out
[TypeScript's documentation](https://www.typescriptlang.org/docs/handbook/declaration-files/dts-from-js.html) on generating type declarations from JSDoc-style comment blocks.
Then read through our [contributing guide](https://github.com/nasa/openmct/blob/f7cf3f72c2efd46da7ce5719c5e52c8806d166f0/CONTRIBUTING.md) and open a PR!

## Plugins

### Defining and Installing a New Plugin

```javascript
openmct.install(function install(openmctAPI) {
    // Do things here
    // ...
});
```

New plugins are installed in Open MCT by calling `openmct.install`, and
providing a plugin installation function. This function will be invoked on
application startup with one parameter - the openmct API object. A common
approach used in the Open MCT codebase is to define a plugin as a function that
returns this installation function. This allows configuration to be specified
when the plugin is included.

eg.

```javascript
openmct.install(openmct.plugins.Elasticsearch("http://localhost:8002/openmct"));
```

This approach can be seen in all of the [plugins provided with Open MCT](https://github.com/nasa/openmct/blob/master/src/plugins/plugins.js).

## Domain Objects and Identifiers

_Domain Objects_ are the basic entities that represent domain knowledge in Open
MCT.  The temperature sensor on a solar panel, an overlay plot comparing the
results of all temperature sensors, the command dictionary for a spacecraft,
the individual commands in that dictionary, the "My Items" folder: All of these
things are domain objects.

A _Domain Object_ is simply a javascript object with some standard attributes.  
An example of a _Domain Object_ is the "My Items" object which is a folder in
which a user can persist any objects that they create. The My Items object
looks like this:

```javascript
{
    identifier: {
        namespace: ""
        key: "mine"
    }
    name:"My Items",
    type:"folder",
    location:"ROOT",
    composition: []
}
```

### Object Attributes

The main attributes to note are the `identifier`, and `type` attributes.

- `identifier`: A composite key that provides a universally unique identifier
  for this object. The `namespace` and `key` are used to identify the object.
  The `key` must be unique within the namespace.
- `type`: All objects in Open MCT have a type. Types allow you to form an
  ontology of knowledge and provide an abstraction for grouping, visualizing,
  and interpreting data. Details on how to define a new object type are
  provided below.

Open MCT uses a number of builtin types. Typically you are going to want to
define your own when extending Open MCT.

### Domain Object Types

Custom types may be registered via the `addType` function on the Open MCT Type
registry.

eg.

```javascript
openmct.types.addType('example.my-type', {
    name: "My Type",
    description: "This is a type that I added!",
    creatable: true
});
```

The `addType` function accepts two arguments:

- A `string` key identifying the type. This key is used when specifying a type
for an object.  We recommend prefixing your types with a namespace to avoid
conflicts with other plugins.
- An object type specification. An object type definition supports the following
attributes
  - `name`: a `string` naming this object type
  - `description`: a `string` specifying a longer-form description of this type
  - `initialize`: a `function` which initializes the model for new domain objects
    of this type. This can be used for setting default values on an object when
    it is instantiated.
  - `creatable`: A `boolean` indicating whether users should be allowed to create
    this type (default: `false`). This will determine whether the type appears
    in the `Create` menu.
  - `cssClass`: A `string` specifying a CSS class to apply to each representation
    of this object. This is used for specifying an icon to appear next to each
    object of this type.

The [Open MCT Tutorials](https://github.com/nasa/openmct-tutorial) provide a
step-by-step examples of writing code for Open MCT that includes a [section on
defining a new object type](https://github.com/nasa/openmct-tutorial#step-3---providing-objects).

## Root Objects

In many cases, you'd like a certain object (or a certain hierarchy of objects)
to be accessible from the top level of the application (the tree on the left-hand
side of Open MCT.) For example, it is typical to expose a telemetry dictionary
as a hierarchy of telemetry-providing domain objects in this fashion.

To do so, use the `addRoot` method of the object API.

eg.

```javascript
openmct.objects.addRoot({
    namespace: "example.namespace",
    key: "my-key"
},
openmct.priority.HIGH);
```

The `addRoot` function takes a two arguments, the first can be an [object identifier](#domain-objects-and-identifiers) for a root level object, or an array of identifiers for root
level objects, or a function that returns a promise for an identifier or an array of root level objects, the second is a [priority](#priority-api) or numeric value.

When using the `getAll` method of the object API, they will be returned in order of priority.

eg.

```javascript
openmct.objects.addRoot(identifier, openmct.priority.LOW); // low = -1000, will appear last in composition or tree
openmct.objects.addRoot(otherIdentifier, openmct.priority.HIGH); // high = 1000, will appear first in composition or tree
```

Root objects are loaded just like any other objects, i.e. via an object provider.

## Object Providers

An Object Provider is used to build _Domain Objects_, typically retrieved from
some source such as a persistence store or telemetry dictionary. In order to
integrate telemetry from a new source an object provider will need to be created
that can build objects representing telemetry points exposed by the telemetry
source. The API call to define a new object provider is fairly straightforward.
Here's a very simple example:

```javascript
openmct.objects.addProvider('example.namespace', {
    get: function (identifier) {
        return Promise.resolve({
            identifier: identifier,
            name: 'Example Object',
            type: 'example-object-type'
        });
    }
});
```

The `addProvider` function takes two arguments:

- `namespace`: A `string` representing the namespace that this object provider
will provide objects for.
- `provider`: An `object` with a single function, `get`. This function accepts an
[Identifier](#domain-objects-and-identifiers) for the object to be provided.
It is expected that the `get` function will return a
[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)
that resolves with the object being requested.

In future, object providers will support other methods to enable other operations with persistence stores, such as creating, updating, and deleting objects.

## Composition Providers

The _composition_ of a domain object is the list of objects it contains, as
shown (for example) in the tree for browsing. Open MCT provides a
[default solution](#default-composition-provider) for composition, but there
may be cases where you want to provide the composition of a certain object
(or type of object) dynamically.

### Adding Composition Providers

You may want to populate a hierarchy under a custom root-level object based on
the contents of a telemetry dictionary. To do this, you can add a new
Composition Provider:

```javascript
openmct.composition.addProvider({
    appliesTo: function (domainObject) {
        return domainObject.type === 'example.my-type';
    },
    load: function (domainObject) {
        return Promise.resolve(myDomainObjects);
    }
});
```

The `addProvider` function accepts a Composition Provider object as its sole
argument. A Composition Provider is a javascript object exposing two functions:

- `appliesTo`: A `function` that accepts a `domainObject` argument, and returns
a `boolean` value indicating whether this composition provider applies to the
given object.
- `load`: A `function` that accepts a `domainObject` as an argument, and returns
a `Promise` that resolves with an array of [Identifier](#domain-objects-and-identifiers).
These identifiers will be used to fetch Domain Objects from an [Object Provider](#object-provider)

### Default Composition Provider

The default composition provider applies to any domain object with a
`composition` property. The value of `composition` should be an array of
identifiers, e.g.:

```javascript
var domainObject = {
    name: "My Object",
    type: 'folder',
    composition: [
        {
            id: '412229c3-922c-444b-8624-736d85516247',
            namespace: 'foo'
        },
        {
            key: 'd6e0ce02-5b85-4e55-8006-a8a505b64c75',
            namespace: 'foo'
        }
    ]
};
```

## Telemetry API

The Open MCT telemetry API provides two main sets of interfaces-- one for
integrating telemetry data into Open MCT, and another for developing Open MCT
visualization plugins utilizing the telemetry API.  

The APIs for visualization plugins are still a work in progress and docs may
change at any time.  However, the APIs for integrating telemetry metadata into
Open MCT are stable and documentation is included below.

### Integrating Telemetry Sources

There are two main tasks for integrating telemetry sources-- describing telemetry objects with relevant metadata, and then providing telemetry data for those objects.  You'll use an [Object Provider](#object-providers) to provide objects with the necessary [Telemetry Metadata](#telemetry-metadata), and then register a [Telemetry Provider](#telemetry-providers) to retrieve telemetry data for those objects.  Alternatively, you can register a telemetry metadata provider to provide the necessary telemetry metadata.

For a step-by-step guide to building a telemetry adapter, please see the
[Open MCT Tutorials](https://github.com/nasa/openmct-tutorial).

#### Telemetry Metadata

A telemetry object is a domain object with a telemetry property.  To take an example from the tutorial, here is the telemetry object for the "fuel" measurement of the spacecraft:

```json
{
    "identifier": {
        "namespace": "example.taxonomy",
        "key": "prop.fuel"
    },
    "name": "Fuel",
    "type": "example.telemetry",
    "telemetry": {
        "values": [
            {
                "key": "value",
                "name": "Value",
                "unit": "kilograms",
                "format": "float",
                "min": 0,
                "max": 100,
                "hints": {
                    "range": 1
                }
            },
            {
                "key": "utc",
                "source": "timestamp",
                "name": "Timestamp",
                "format": "utc",
                "hints": {
                    "domain": 1
                }
            }
        ]
    }
}
```

The most important part of the 
... (truncated due to size)

================================ Human Message =================================


The commands you have run:```
node --version, curl -fsSL https://deb.nodesource.com/setup_18.x | bash - && apt-get install -y nodejs, apt-get update && apt-get install -y curl && curl -fsSL https://deb.nodesource.com/setup_18.x | bash - && apt-get install -y nodejs, apt-get remove -y nodejs libnode72 && curl -fsSL https://deb.nodesource.com/setup_18.x | bash - && apt-get install -y nodejs, node --version && npm --version && cat package.json, ls -la, find / -name "package.json" -type f 2>/dev/null, find / -type d -name "openmct" 2>/dev/null, ls -la /, git clone https://github.com/nasa/openmct.git /testbed && cd /testbed, apt-get update && apt-get install -y git```
Following are the last 5 messages:

================================ Human Message =================================

Observation:
ls -la /
total 72
drwxr-xr-x   1 root root 4096 Aug  5 20:25 .
drwxr-xr-x   1 root root 4096 Aug  5 20:25 ..
-rwxr-xr-x   1 root root    0 Aug  5 20:25 .dockerenv
lrwxrwxrwx   1 root root    7 Jul 14 14:08 bin -> usr/bin
drwxr-xr-x   2 root root 4096 Apr 18  2022 boot
drwxr-xr-x   5 root root  360 Aug  5 20:25 dev
drwxr-xr-x   1 root root 4096 Aug  5 20:29 etc
drwxr-xr-x   2 root root 4096 Apr 18  2022 home
lrwxrwxrwx   1 root root    7 Jul 14 14:08 lib -> usr/lib
lrwxrwxrwx   1 root root    9 Jul 14 14:08 lib32 -> usr/lib32
lrwxrwxrwx   1 root root    9 Jul 14 14:08 lib64 -> usr/lib64
lrwxrwxrwx   1 root root   10 Jul 14 14:08 libx32 -> usr/libx32
drwxr-xr-x   2 root root 4096 Jul 14 14:08 media
drwxr-xr-x   2 root root 4096 Jul 14 14:08 mnt
drwxr-xr-x   2 root root 4096 Jul 14 14:08 opt
dr-xr-xr-x 397 root root    0 Aug  5 20:25 proc
drwx------   2 root root 4096 Jul 14 14:16 root
drwxr-xr-x   5 root root 4096 Jul 14 14:16 run
lrwxrwxrwx   1 root root    8 Jul 14 14:08 sbin -> usr/sbin
drwxr-xr-x   2 root root 4096 Jul 14 14:08 srv
dr-xr-xr-x  13 root root    0 Aug  5 20:25 sys
drwxr-xr-x   2 root root 4096 Aug  5 20:25 testbed
drwxrwxrwt   1 root root 4096 Aug  5 20:29 tmp
drwxr-xr-x   1 root root 4096 Jul 14 14:08 usr
drwxr-xr-x   1 root root 4096 Jul 14 14:16 var


root@6f25034e0db4:/testbed $

exit code: 0

================================== Ai Message ==================================

Thought: The /testbed directory exists but is empty. Since the initial instructions mentioned project files should be in /testbed, I'll need to clone the repository manually to proceed with setting up the environment.

Action: <command>git clone https://github.com/nasa/openmct.git /testbed && cd /testbed</command>
================================ Human Message =================================

Observation:
git clone https://github.com/nasa/openmct.git /testbed && cd /testbed
bash: git: command not found


root@6f25034e0db4:/testbed $

exit code: 127

================================== Ai Message ==================================

Thought: I need to install git first since it's not available in the container. After installing git, I can clone the repository.

Action: <command>apt-get update && apt-get install -y git</command>
================================ Human Message =================================

Observation:
apt-get update && apt-get install -y git
0% [Working]0% [Waiting for headers] [Waiting for headers] [Waiting for headers]                                                                    Hit:1 http://security.ubuntu.com/ubuntu jammy-security InRelease
                                                                    0% [Waiting for headers] [Waiting for headers]                                              Hit:2 https://deb.nodesource.com/node_18.x nodistro InRelease
                                              0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]                        Hit:3 http://archive.ubuntu.com/ubuntu jammy InRelease
                        0% [Working]0% [Waiting for headers]0% [Waiting for headers]                        Hit:4 http://archive.ubuntu.com/ubuntu jammy-updates InRelease
                        0% [Working]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]                        Hit:5 http://archive.ubuntu.com/ubuntu jammy-backports InRelease
                        0% [Working]20% [Working]             Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 4%Reading package lists... 4%Reading package lists... 43%Reading package lists... 43%Reading package lists... 43%Reading package lists... 43%Reading package lists... 53%Reading package lists... 53%Reading package lists... 68%Reading package lists... 68%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 73%Reading package lists... 73%Reading package lists... 81%Reading package lists... 81%Reading package lists... 96%Reading package lists... 96%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 4%Reading package lists... 4%Reading package lists... 43%Reading package lists... 43%Reading package lists... 43%Reading package lists... 43%Reading package lists... 53%Reading package lists... 53%Reading package lists... 68%Reading package lists... 68%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 73%Reading package lists... 73%Reading package lists... 81%Reading package lists... 81%Reading package lists... 96%Reading package lists... 96%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 2%Reading state information... Done
The following packages were automatically installed and are no longer required:
  javascript-common libc-ares2 libicu70 libjs-highlight.js libuv1
Use 'apt autoremove' to remove them.
The following additional packages will be installed:
  git-man less libbsd0 libcbor0.8 libcurl3-gnutls libedit2 liberror-perl
  libfido2-1 libgdbm-compat4 libgdbm6 libmd0 libperl5.34 libx11-6 libx11-data
  libxau6 libxcb1 libxdmcp6 libxext6 libxmuu1 netbase openssh-client patch
  perl perl-base perl-modules-5.34 xauth
Suggested packages:
  gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-email git-gui
  gitk gitweb git-cvs git-mediawiki git-svn gdbm-l10n ....stripped due to length....
Preparing to unpack .../13-libxdmcp6_1%3a1.1.3-0ubuntu5_amd64.deb ...
Unpacking libxdmcp6:amd64 (1:1.1.3-0ubuntu5) ...
Selecting previously unselected package libxcb1:amd64.
Preparing to unpack .../14-libxcb1_1.14-3ubuntu3_amd64.deb ...
Unpacking libxcb1:amd64 (1.14-3ubuntu3) ...
Selecting previously unselected package libx11-data.
Preparing to unpack .../15-libx11-data_2%3a1.7.5-1ubuntu0.3_all.deb ...
Unpacking libx11-data (2:1.7.5-1ubuntu0.3) ...
Selecting previously unselected package libx11-6:amd64.
Preparing to unpack .../16-libx11-6_2%3a1.7.5-1ubuntu0.3_amd64.deb ...
Unpacking libx11-6:amd64 (2:1.7.5-1ubuntu0.3) ...
Selecting previously unselected package libxext6:amd64.
Preparing to unpack .../17-libxext6_2%3a1.3.4-1build1_amd64.deb ...
Unpacking libxext6:amd64 (2:1.3.4-1build1) ...
Selecting previously unselected package libxmuu1:amd64.
Preparing to unpack .../18-libxmuu1_2%3a1.1.3-3_amd64.deb ...
Unpacking libxmuu1:amd64 (2:1.1.3-3) ...
Selecting previously unselected package openssh-client.
Preparing to unpack .../19-openssh-client_1%3a8.9p1-3ubuntu0.13_amd64.deb ...
Unpacking openssh-client (1:8.9p1-3ubuntu0.13) ...
Selecting previously unselected package xauth.
Preparing to unpack .../20-xauth_1%3a1.1-1build2_amd64.deb ...
Unpacking xauth (1:1.1-1build2) ...
Selecting previously unselected package libcurl3-gnutls:amd64.
Preparing to unpack .../21-libcurl3-gnutls_7.81.0-1ubuntu1.20_amd64.deb ...
Unpacking libcurl3-gnutls:amd64 (7.81.0-1ubuntu1.20) ...
Selecting previously unselected package liberror-perl.
Preparing to unpack .../22-liberror-perl_0.17029-1_all.deb ...
Unpacking liberror-perl (0.17029-1) ...
Selecting previously unselected package git-man.
Preparing to unpack .../23-git-man_1%3a2.34.1-1ubuntu1.15_all.deb ...
Unpacking git-man (1:2.34.1-1ubuntu1.15) ...
Selecting previously unselected package git.
Preparing to unpack .../24-git_1%3a2.34.1-1ubuntu1.15_amd64.deb ...
Unpacking git (1:2.34.1-1ubuntu1.15) ...
Selecting previously unselected package patch.
Preparing to unpack .../25-patch_2.7.6-7build2_amd64.deb ...
Unpacking patch (2.7.6-7build2) ...
Setting up libxau6:amd64 (1:1.0.9-1build5) ...
Setting up libcbor0.8:amd64 (0.8.0-2ubuntu1) ...
Setting up less (590-1ubuntu0.22.04.3) ...
Setting up libcurl3-gnutls:amd64 (7.81.0-1ubuntu1.20) ...
Setting up perl-modules-5.34 (5.34.0-3ubuntu1.5) ...
Setting up libx11-data (2:1.7.5-1ubuntu0.3) ...
Setting up patch (2.7.6-7build2) ...
Setting up libmd0:amd64 (1.0.4-1build1) ...
Setting up git-man (1:2.34.1-1ubuntu1.15) ...
Setting up netbase (6.3) ...
Setting up libfido2-1:amd64 (1.10.0-1) ...
Setting up libbsd0:amd64 (0.11.5-1) ...
Setting up libgdbm6:amd64 (1.23-1) ...
Setting up libxdmcp6:amd64 (1:1.1.3-0ubuntu5) ...
Setting up libxcb1:amd64 (1.14-3ubuntu3) ...
Setting up libedit2:amd64 (3.1-20210910-1build1) ...
Setting up libgdbm-compat4:amd64 (1.23-1) ...
Setting up libx11-6:amd64 (2:1.7.5-1ubuntu0.3) ...
Setting up libxmuu1:amd64 (2:1.1.3-3) ...
Setting up libperl5.34:amd64 (5.34.0-3ubuntu1.5) ...
Setting up openssh-client (1:8.9p1-3ubuntu0.13) ...
update-alternatives: using /usr/bin/ssh to provide /usr/bin/rsh (rsh) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/rsh.1.gz because associated file /usr/share/man/man1/ssh.1.gz (of link group rsh) doesn't exist
update-alternatives: using /usr/bin/slogin to provide /usr/bin/rlogin (rlogin) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/rlogin.1.gz because associated file /usr/share/man/man1/slogin.1.gz (of link group rlogin) doesn't exist
update-alternatives: using /usr/bin/scp to provide /usr/bin/rcp (rcp) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/rcp.1.gz because associated file /usr/share/man/man1/scp.1.gz (of link group rcp) doesn't exist
Setting up libxext6:amd64 (2:1.3.4-1build1) ...
Setting up perl (5.34.0-3ubuntu1.5) ...
Setting up xauth (1:1.1-1build2) ...
Setting up liberror-perl (0.17029-1) ...
Setting up git (1:2.34.1-1ubuntu1.15) ...
Processing triggers for libc-bin (2.35-0ubuntu3.10) ...


root@6f25034e0db4:/testbed $

exit code: 0

##### LLM OUTPUT #####
================================== Ai Message ==================================

Thought: Now that git is installed, I can proceed to clone the repository into /testbed as originally intended.

Action: <command>git clone https://github.com/nasa/openmct.git /testbed && cd /testbed</command>