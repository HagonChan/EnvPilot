{
  "instance_id": "fluent__fluent-bit-3663",
  "base_image": "ubuntu:22.04",
  "setup_commands": [
    "apt-get update && apt-get install -y build-essential cmake",
    "mkdir -p build && cd build && cmake .. && make",
    "apt-get install -y flex bison",
    "cd /testbed && rm -rf build && mkdir -p build && cd build && cmake .. && make",
    "cd /testbed/build && cmake -DFLB_WARNINGS_AS_ERRORS=Off .. && make",
    "sed -i 's/-Werror//g' /testbed/lib/mbedtls-2.24.0/library/CMakeLists.txt && cd /testbed/build && make",
    "sed -i 's/add_compile_options(/add_compile_options(-Wno-error /' /testbed/lib/mbedtls-2.24.0/library/CMakeLists.txt && cd /testbed/build && make",
    "sed -i 's/CMAKE_C_FLAGS:STRING=.*/& -Wno-error/' /testbed/build/CMakeCache.txt && cd /testbed/build && make",
    "sed -i 's/unsigned char hash\\[[0-9]*\\]/unsigned char *hash/g' /testbed/lib/mbedtls-2.24.0/library/ssl_tls.c && cd /testbed/build && make",
    "apt-get update && apt-get install -y libmbedtls-dev",
    "cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On .. && make",
    "cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On -DFLB_REGEX=Off .. && make",
    "cd /testbed && rm -rf lib/mbedtls-2.24.0 && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On .. && make",
    "cd /testbed && rm -rf build && apt-get install -y libmbedtls-dev && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On -DFLB_REGEX=Off .. && make",
    "cd /testbed && sed -i 's/add_subdirectory(lib\\/mbedtls-2.24.0)//' CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On .. && make",
    "apt-get update && apt-get install -y build-essential cmake flex bison libmbedtls-dev libssl-dev pkg-config && cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On -DFLB_REGEX=Off .. && make",
    "cd /testbed && sed -i '/mbedtls/d' CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On -DFLB_REGEX=Off .. && make",
    "cd /testbed && sed -i '/mbedtls/d' CMakeLists.txt && grep -r \"mbedtls\" . --include=\"CMakeLists.txt\" | cut -d: -f1 | xargs sed -i '/mbedtls/d' && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On -DFLB_REGEX=Off .. && make",
    "cd /testbed && sed -i '438d' CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On -DFLB_REGEX=Off .. && make",
    "cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off .. && make",
    "apt-get install -y libmbedtls-dev && cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On .. && make",
    "apt-get install -y libmbedtls-dev libssl-dev && cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On -DFLB_TLS=On .. && make",
    "apt-get install -y libmbedtls-dev && cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_SYSTEM_MBEDTLS=On -DCMAKE_EXE_LINKER_FLAGS=\"-lmbedtls -lmbedx509 -lmbedcrypto\" .. && make",
    "cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off .. && make",
    "cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && sed -i '/flb_aws/d' src/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && sed -i '/flb_signv4/d' src/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && find . -name \"CMakeLists.txt\" -exec sed -i '/kinesis/d' {} \\; && find . -name \"CMakeLists.txt\" -exec sed -i '/aws/d' {} \\; && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && rm -rf plugins/out_cloudwatch_logs plugins/out_kinesis_streams plugins/out_s3 plugins/out_stackdriver && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && sed -i '/out_cloudwatch_logs/d; /out_kinesis_streams/d; /out_s3/d; /out_stackdriver/d' plugins/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "apt-get update && apt-get install -y libmbedtls-dev && cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=On -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && sed -i '/out_azure_blob/d; /out_bigquery/d; /out_es/d; /out_forward/d' plugins/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && sed -i '/out_azure/d' plugins/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off -DFLB_HTTP_CLIENT=Off .. && make",
    "cd /testbed && sed -i '/flb_http_client/d' src/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off -DFLB_HTTP_CLIENT=Off .. && make",
    "cd /testbed && sed -i '/out_splunk/d; /out_td/d; /out_websocket/d; /filter_kubernetes/d' plugins/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off -DFLB_HTTP_CLIENT=Off .. && make",
    "cd /testbed && sed -i '/out_logdna/d; /out_loki/d; /out_kafka_rest/d; /out_nrlogs/d; /out_slack/d' plugins/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off -DFLB_HTTP_CLIENT=Off .. && make",
    "cd /testbed && sed -i '/out_datadog/d; /out_http/d; /out_influxdb/d' plugins/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off -DFLB_HTTP_CLIENT=Off .. && make",
    "cd /testbed && sed -i '/flb_http_client/d' src/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=Off -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off -DFLB_HTTP_CLIENT=Off .. && make",
    "sed -i 's/flb_http_client_proxy_connect/\\/\\* Removed HTTP client dependency \\*\\//' src/flb_io.c && cd build && make",
    "cd /testbed && sed -i 's/flb_http_client_proxy_connect/\\/\\* Removed HTTP client dependency \\*\\//' src/flb_io.c && cd build && make",
    "apt-get install -y libmbedtls-dev && cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=On -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "apt-get install -y libmbedtls-dev libssl-dev && cd /testbed && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=On -DFLB_HTTP_CLIENT=On -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && sed -i '/hello_world/d' examples/CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=On -DFLB_HTTP_CLIENT=On -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed && sed -i '/add_subdirectory(examples)/d' CMakeLists.txt && rm -rf build && mkdir -p build && cd build && cmake -DFLB_TLS=On -DFLB_HTTP_CLIENT=On -DFLB_REGEX=Off -DFLB_AWS=Off -DFLB_OUT_STACKDRIVER=Off -DFLB_OUT_KINESIS=Off -DFLB_OUT_S3=Off .. && make",
    "cd /testbed/build && ctest --output-on-failure",
    "cd /testbed && ./build/bin/fluent-bit -i dummy -o stdout -f 1"
  ],
  "test_commands": [],
  "duration": 61,
  "completed": null,
  "exception": "RetryError[<Future at 0x7e1d5810b2f0 state=finished raised BadRequestError>]"
}