{
  "instance_id": "projectlombok__lombok-3886",
  "base_image": "ubuntu:22.04",
  "setup_commands": [
    "apt-get update && apt-get install -y openjdk-8-jdk ant ivy",
    "cat build.xml",
    "cat buildScripts/tests.ant.xml",
    "ant test",
    "ant clean",
    "ant test",
    "cat buildScripts/ivy.xml | grep \"lombok.patcher\"",
    "sed -i 's/lombok.patcher;0.54/lombok.patcher;1.0.0/' buildScripts/ivy.xml && ant test",
    "sed -i 's/lombok.patcher;0.54/lombok.patcher;1.0.1/' buildScripts/ivy.xml && ant test",
    "sed -i 's/lombok.patcher;1.0.1/lombok.patcher;0.54/' buildScripts/ivy.xml && ant test",
    "sed -i 's/lombok.patcher;0.54/lombok.patcher;1.0.0/' buildScripts/ivy.xml && ant test",
    "sed -i 's/lombok.patcher;1.0.0/lombok.patcher;1.0.1/' buildScripts/ivy.xml && ant test",
    "wget https://repo1.maven.org/maven2/org/projectlombok/lombok.patcher/1.0.1/lombok.patcher-1.0.1.jar -O ivy-repo/org.projectlombok-lombok.patcher-1.0.1.jar && ant test",
    "apt-get install -y wget && wget https://repo1.maven.org/maven2/org/projectlombok/lombok.patcher/1.0.1/lombok.patcher-1.0.1.jar -O ivy-repo/org.projectlombok-lombok.patcher-1.0.1.jar && ant test",
    "mkdir -p ivy-repo && wget https://repo1.maven.org/maven2/org/projectlombok/lombok.patcher/1.0.1/lombok.patcher-1.0.1.jar -O ivy-repo/org.projectlombok-lombok.patcher-1.0.1.jar && ant test",
    "wget https://repo1.maven.org/maven2/org/projectlombok/lombok.patcher/1.0.1/lombok.patcher-1.0.1.jar -O ivy-repo/org.projectlombok-lombok.patcher-1.0.1.jar && ant test",
    "wget https://repo1.maven.org/maven2/org/projectlombok/lombok.patcher/0.54/lombok.patcher-0.54.jar -O ivy-repo/org.projectlombok-lombok.patcher-0.54.jar && ant test",
    "ant -Divy.mode=online test",
    "sed -i 's/lombok.patcher;0.54/lombok.patcher;1.0.1/' buildScripts/ivy.xml && ant -Divy.mode=online test",
    "sed -i 's/addScriptIfComplexWitness/addScript/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/new String\\[\\]\\[\\] {OSGI_TYPES, new String\\[\\] {\"org\\/eclipse\\/jdt\\/internal\\/compiler\\/parser\\/TerminalToken\"}}/ScriptBuilder.complexWitness(OSGI_TYPES, new String[] {\"org\\/eclipse\\/jdt\\/internal\\/compiler\\/parser\\/TerminalToken\"})/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/ScriptBuilder.complexWitness(OSGI_TYPES, new String\\[\\] {\"org\\/eclipse\\/jdt\\/internal\\/compiler\\/parser\\/TerminalToken\"})/ScriptBuilder.witness(OSGI_TYPES)/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/ScriptBuilder.witness(OSGI_TYPES)/new String[][] {OSGI_TYPES}/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/new String\\[\\]\\[\\] {OSGI_TYPES}/ScriptBuilder.createScript(OSGI_TYPES)/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/ScriptBuilder.createScript(OSGI_TYPES)/new PatchScript(OSGI_TYPES)/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/new PatchScript(OSGI_TYPES)/OSGI_TYPES/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/OSGI_TYPES/ScriptBuilder.witness(OSGI_TYPES)/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/sm.addScript(OSGI_TYPES, ScriptBuilder.replaceMethodCall()/sm.addScript(ScriptBuilder.witness(OSGI_TYPES), ScriptBuilder.replaceMethodCall()/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "git checkout src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && sed -i 's/addScript(OSGI_TYPES, ScriptBuilder.replaceMethodCall()/addScript(ScriptBuilder.witness(OSGI_TYPES), ScriptBuilder.replaceMethodCall()/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/addScriptIfComplexWitness(new String\\[\\]\\[\\] {OSGI_TYPES, new String\\[\\] {\"org\\/eclipse\\/jdt\\/internal\\/compiler\\/parser\\/TerminalToken\"}}/addScript(ScriptBuilder.witness(OSGI_TYPES), ScriptBuilder.replaceMethodCall()/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/ScriptBuilder.witness(OSGI_TYPES)/ScriptBuilder.createScript(OSGI_TYPES)/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/ScriptBuilder.createScript(OSGI_TYPES)/OSGI_TYPES/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "sed -i 's/OSGI_TYPES/new PatchScript(OSGI_TYPES)/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "grep -r \"PatchScript\" src/",
    "sed -i 's/import static lombok.eclipse.agent.EclipseLoaderPatcher.new PatchScript(OSGI_TYPES);/import lombok.eclipse.agent.PatchScript;/' src/eclipseAgent/lombok/eclipse/agent/EclipsePatcher.java && ant -Divy.mode=online test",
    "find src/ -name \"*.java\" -exec grep -l \"class PatchScript\" {} \\;",
    "grep -r \"PatchScript\" src/ | head -20",
    "jar tf ivy-repo/org.projectlombok-lombok.patcher-0.54.jar | grep PatchScript",
    "wget https://repo1.maven.org/maven2/org/projectlombok/lombok.patcher/0.54/lombok.patcher-0.54.jar -O ivy-repo/org.projectlombok-lombok.patcher-0.54.jar && ant test",
    "wget https://repo1.maven.org/maven2/org/projectlombok/lombok.patcher/1.0.1/lombok.patcher-1.0.1.jar -O ivy-repo/org.projectlombok-lombok.patcher-1.0.1.jar && sed -i 's/lombok.patcher;0.54/lombok.patcher;1.0.1/' buildScripts/ivy.xml && ant test",
    "ant -Divy.mode=offline test"
  ],
  "test_commands": [],
  "duration": 23,
  "completed": null,
  "exception": "Launch failed"
}