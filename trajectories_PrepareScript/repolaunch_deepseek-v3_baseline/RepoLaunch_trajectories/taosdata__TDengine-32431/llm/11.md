##### LLM INPUT #####
================================ System Message ================================

You are a developer. Your task is to install dependencies and set up a environment that is able to run the tests of the project.

- You start with an initial Docker container based on ubuntu:22.04.
- You interact with a Bash session inside this container.
- Project files are located in /testbed within the container, and your current working directory of bash is already set to /testbed.
- No need to clone the project again.

The final objective is to successfully run the tests of the project.


### C-Specific Instructions:
- Install build-essential if not available: `apt-get update && apt-get install -y build-essential`
- Use `make` to build the project (check for Makefile)
- Use `gcc` or `clang` directly if no Makefile exists
- Check for CMakeLists.txt and use `cmake` if available
- Install dependencies through package manager (apt, yum, etc.)
- Look for configure scripts and run `./configure && make`


================================ Human Message =================================


You run in a loop of Thought, Action, Observation.
At the end of the loop you should use Action to stop the loop.

Use Thought to describe your thoughts about the question you have been asked.
Use Action to run one of the actions available to you.
Observation will be the result of running those actions.
> Important Note: Each step, reply with only **one** (Thought, Action) pair.
> Important Note: Do not reply **Observation**, it will be provided by the system.

Your available actions are:

    Command: run a command in the bash, reply with following format, your command should not require sudo or interactive input:
        <command>bash command</command>
        e.g. install build-essential: <command>apt-get install -y build-essential</command>
        e.g. view file content: <command>cat README.md</command>
    Search: search the web for if you need some information, generate query and reply with following format:
        <search>the search query</search>
        e.g. <search>how to fix 'No module named setuptools'</search>
        e.g. <search>how to install python3 on ubuntu</search>
        e.g. <search>how to create development environment for python3</search>
    Stop: stop the setup loop once you think the setup is complete, reply with following format:
        <stop></stop>
    

Observation will be the result of running those actions.


Project Structure: the structure of the project, including files and directories.
Related Files: the content of related files of the project that may help you understand the project.
Thought: you should always think about what to do
Action: <command>your bash command here</command> or <search>your search query</search> or other actions available
Observation: the result of the action
... (this Thought/Action/Observation can repeat N times) ...
Thought: I think the setup should be fine
Action: <stop>stop the setup</stop>
Answer: the final result

Begin!
Project Structure: 📂 
/home/hagon/Project/msb/EnvAgent/git/EnvBench/baseline_RepoLaunch/SWE-bench-Live/launch/playground/EnvPilot_baseline/taosdata__
TDengine-32431/repo
┣━━ 📂 .devcontainer
┣━━ 📂 .github
┣━━ 📂 cmake
┣━━ 📂 contrib
┣━━ 📂 deps
┣━━ 📂 docs
┣━━ 📂 examples
┣━━ 📂 include
┣━━ 📂 packaging
┣━━ 📂 source
┣━━ 📂 test
┣━━ 📂 tests
┣━━ 📂 tools
┣━━ 📂 utils
┣━━ 📄 .clang-format
┣━━ 📄 .codecov.yml
┣━━ 📄 .gitignore_global
┣━━ 📄 .pre-commit-config.yaml
┣━━ 📄 build.bat
┣━━ 📄 build.sh
┣━━ 📄 CMakeLists.txt
┣━━ 📄 CONTRIBUTING-CN.md
┣━━ 📄 CONTRIBUTING.md
┣━━ 📄 LICENSE
┣━━ 📄 README-CN.md
┗━━ 📄 README.md

Related Files: ------ BEGIN RELATED FILES ------
File: README.md
```
<p align="center">
  <a href="https://tdengine.com" target="_blank">
  <img
    src="docs/assets/tdengine.svg"
    alt="TDengine"
    width="500"
  />
  </a>
</p>

[![TDengine Release Build](https://github.com/taosdata/TDengine/actions/workflows/tdengine-release-build.yml/badge.svg)](https://github.com/taosdata/TDengine/actions/workflows/tdengine-release-build.yml)
[![Coverage Status](https://coveralls.io/repos/github/taosdata/TDengine/badge.svg?branch=3.0)](https://coveralls.io/github/taosdata/TDengine?branch=3.0)
[![GitHub commit activity](https://img.shields.io/github/commit-activity/m/taosdata/tdengine)](https://github.com/feici02/TDengine/commits/main/)
<br />
[![GitHub Release](https://img.shields.io/github/v/release/taosdata/tdengine)](https://github.com/taosdata/TDengine/releases)
[![GitHub License](https://img.shields.io/github/license/taosdata/tdengine)](https://github.com/taosdata/TDengine/blob/main/LICENSE)
[![CII Best Practices](https://bestpractices.coreinfrastructure.org/projects/4201/badge)](https://bestpractices.coreinfrastructure.org/projects/4201)
<br />
[![Twitter Follow](https://img.shields.io/twitter/follow/tdenginedb?label=TDengine&style=social)](https://twitter.com/tdenginedb)
[![YouTube Channel](https://img.shields.io/badge/Subscribe_@tdengine--white?logo=youtube&style=social)](https://www.youtube.com/@tdengine)
[![Discord Community](https://img.shields.io/badge/Join_Discord--white?logo=discord&style=social)](https://discord.com/invite/VZdSuUg4pS)
[![LinkedIn](https://img.shields.io/badge/Follow_LinkedIn--white?logo=linkedin&style=social)](https://www.linkedin.com/company/tdengine)
[![StackOverflow](https://img.shields.io/badge/Ask_StackOverflow--white?logo=stackoverflow&style=social&logoColor=orange)](https://stackoverflow.com/questions/tagged/tdengine)
[![DeepWiki](https://img.shields.io/badge/Ask%20DeepWiki-white.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAyCAYAAAAnWDnqAAAAAXNSR0IArs4c6QAAA05JREFUaEPtmUtyEzEQhtWTQyQLHNak2AB7ZnyXZMEjXMGeK/AIi+QuHrMnbChYY7MIh8g01fJoopFb0uhhEqqcbWTp06/uv1saEDv4O3n3dV60RfP947Mm9/SQc0ICFQgzfc4CYZoTPAswgSJCCUJUnAAoRHOAUOcATwbmVLWdGoH//PB8mnKqScAhsD0kYP3j/Yt5LPQe2KvcXmGvRHcDnpxfL2zOYJ1mFwrryWTz0advv1Ut4CJgf5uhDuDj5eUcAUoahrdY/56ebRWeraTjMt/00Sh3UDtjgHtQNHwcRGOC98BJEAEymycmYcWwOprTgcB6VZ5JK5TAJ+fXGLBm3FDAmn6oPPjR4rKCAoJCal2eAiQp2x0vxTPB3ALO2CRkwmDy5WohzBDwSEFKRwPbknEggCPB/imwrycgxX2NzoMCHhPkDwqYMr9tRcP5qNrMZHkVnOjRMWwLCcr8ohBVb1OMjxLwGCvjTikrsBOiA6fNyCrm8V1rP93iVPpwaE+gO0SsWmPiXB+jikdf6SizrT5qKasx5j8ABbHpFTx+vFXp9EnYQmLx02h1QTTrl6eDqxLnGjporxl3NL3agEvXdT0WmEost648sQOYAeJS9Q7bfUVoMGnjo4AZdUMQku50McDcMWcBPvr0SzbTAFDfvJqwLzgxwATnCgnp4wDl6Aa+Ax283gghmj+vj7feE2KBBRMW3FzOpLOADl0Isb5587h/U4gGvkt5v60Z1VLG8BhYjbzRwyQZemwAd6cCR5/XFWLYZRIMpX39AR0tjaGGiGzLVyhse5C9RKC6ai42ppWPKiBagOvaYk8lO7DajerabOZP46Lby5wKjw1HCRx7p9sVMOWGzb/vA1hwiWc6jm3MvQDTogQkiqIhJV0nBQBTU+3okKCFDy9WwferkHjtxib7t3xIUQtHxnIwtx4mpg26/HfwVNVDb4oI9RHmx5WGelRVlrtiw43zboCLaxv46AZeB3IlTkwouebTr1y2NjSpHz68WNFjHvupy3q8TFn3Hos2IAk4Ju5dCo8B3wP7VPr/FGaKiG+T+v+TQqIrOqMTL1VdWV1DdmcbO8KXBz6esmYWYKPwDL5b5FA1a0hwapHiom0r/cKaoqr+27/XcrS5UwSMbQAAAABJRU5ErkJggg==)](https://deepwiki.com/taosdata/TDengine)

English | [简体中文](README-CN.md) | [TDengine Cloud](https://cloud.tdengine.com) | [Learn more about TSDB](https://tdengine.com/time-series-database/)

# Table of Contents

1. [Introduction](#1-introduction)
1. [Documentation](#2-documentation)
1. [Prerequisites](#3-prerequisites)
    - [3.1 Prerequisites On Linux](#31-prerequisites-on-linux)
    - [3.2 Prerequisites On macOS](#32-prerequisites-on-macos)
    - [3.3 Prerequisites On Windows](#33-prerequisites-on-windows)
    - [3.4 Clone the repo](#34-clone-the-repo) 
1. [Building](#4-building)
    - [4.1 Build on Linux](#41-build-on-linux)
    - [4.2 Build on macOS](#42-build-on-macos)
    - [4.3 Build On Windows](#43-build-on-windows) 
1. [Packaging](#5-packaging)
1. [Installation](#6-installation)
    - [6.1 Install on Linux](#61-install-on-linux)
    - [6.2 Install on macOS](#62-install-on-macos)
    - [6.3 Install on Windows](#63-install-on-windows)
1. [Running](#7-running)
    - [7.1 Run TDengine on Linux](#71-run-tdengine-on-linux)
    - [7.2 Run TDengine on macOS](#72-run-tdengine-on-macos)
    - [7.3 Run TDengine on Windows](#73-run-tdengine-on-windows)
1. [Testing](#8-testing)
1. [Releasing](#9-releasing)
1. [Workflow](#10-workflow)
1. [Coverage](#11-coverage)
1. [Contributing](#12-contributing)

# 1. Introduction

TDengine is an open source, high-performance, cloud native and AI powered [time-series database](https://tdengine.com/tsdb/) designed for Internet of Things (IoT), Connected Cars, and Industrial IoT. It enables efficient, real-time data ingestion, processing, and analysis of TB and even PB scale data per day, generated by billions of sensors and data collectors. TDengine differentiates itself from other time-series databases with the following advantages:

- **[High Performance](https://tdengine.com/tdengine/high-performance-time-series-database/)**: TDengine is the only time-series database to solve the high cardinality issue to support billions of data collection points while out performing other time-series databases for data ingestion, querying and data compression.

- **[Simplified Solution](https://tdengine.com/tdengine/simplified-time-series-data-solution/)**: Through built-in caching, stream processing, data subscription and AI agent features, TDengine provides a simplified solution for time-series data processing. It reduces system design complexity and operation costs significantly.

- **[Cloud Native](https://tdengine.com/tdengine/cloud-native-time-series-database/)**: Through native distributed design, sharding and partitioning, separation of compute and storage, RAFT, support for kubernetes deployment and full observability, TDengine is a cloud native Time-Series Database and can be deployed on public, private or hybrid clouds.

- **[AI Powered](https://tdengine.com/tdengine/tdgpt/)**: Through the built in AI agent TDgpt, TDengine can connect to a variety of time series foundation model, large language model, machine learning and traditional algorithms to provide time series data forecasting, anomly detection, imputation and classification. 

- **[Ease of Use](https://tdengine.com/tdengine/easy-time-series-data-platform/)**: For administrators, TDengine significantly reduces the effort to deploy and maintain. For developers, it provides a simple interface, simplified solution and seamless integrations for third party tools. For data users, it gives easy data access.

- **[Easy Data Analytics](https://tdengine.com/tdengine/time-series-data-analytics-made-easy/)**: Through super tables, storage and compute separation, data partitioning by time interval, pre-computation and AI agent, TDengine makes it easy to explore, format, and get access to data in a highly efficient way.

- **[Open Source](https://tdengine.com/tdengine/open-source-time-series-database/)**: TDengine’s core modules, including cluster feature and AI agent, are all available under open source licenses. It has gathered 23.7k stars on GitHub. There is an active developer community, and over 730k running instances worldwide.

For a full list of TDengine competitive advantages, please [check here](https://tdengine.com/tdengine/). The easiest way to experience TDengine is through [TDengine Cloud](https://cloud.tdengine.com). For the latest TDengine component TDgpt, please refer to [TDgpt README](./tools/tdgpt/README.md) for details.

# 2. Documentation

For user manual, system design and architecture, please refer to [TDengine Documentation](https://docs.tdengine.com) ([TDengine 文档](https://docs.taosdata.com))

You can choose to install TDengine via [container](https://docs.tdengine.com/get-started/deploy-in-docker/), [installation package](https://docs.tdengine.com/get-started/deploy-from-package/), [Kubernetes](https://docs.tdengine.com/operations-and-maintenance/deploy-your-cluster/#kubernetes-deployment) or try [fully managed service](https://cloud.tdengine.com/) without installation. This quick guide is for developers who want to contribute, build, release and test TDengine by themselves. 

For contributing/building/testing TDengine Connectors, please check the following repositories: [JDBC Connector](https://github.com/taosdata/taos-connector-jdbc), [Go Connector](https://github.com/taosdata/driver-go), [Python Connector](https://github.com/taosdata/taos-connector-python), [Node.js Connector](https://github.com/taosdata/taos-connector-node), [C# Connector](https://github.com/taosdata/taos-connector-dotnet), [Rust Connector](https://github.com/taosdata/taos-connector-rust).

# 3. Prerequisites

At the moment, TDengine server supports running on Linux/MacOS systems. Any application can also choose the RESTful interface provided by taosAdapter to connect the taosd service. TDengine supports X64/ARM64 CPU, and it will support MIPS64, Alpha64, ARM32, RISC-V and other CPU architectures in the future. Right now we don't support build with cross-compiling environment.

Starting from version 3.1.0.0, TDengine supports the Windows system exclusively in its TSDB-Enterprise edition.

If you want to compile taosAdapter or taosKeeper, you need to install Go 1.23 or above.

## 3.1 Prerequisites on Linux

<details>

<summary>Install required tools on Linux</summary>

### For Ubuntu 18.04、20.04、22.04

```bash
sudo apt-get update
sudo apt-get install -y gcc cmake build-essential git libjansson-dev \
  libsnappy-dev liblzma-dev zlib1g-dev pkg-config
```

### For CentOS 8

```bash
sudo yum update
yum install -y epel-release gcc gcc-c++ make cmake git perl dnf-plugins-core 
yum config-manager --set-enabled powertools
yum install -y zlib-static xz-devel snappy-devel jansson-devel pkgconfig libatomic-static libstdc++-static 
```

</details>

## 3.2 Prerequisites on macOS

<details>

<summary>Install required tools on macOS</summary>

Please install the dependencies with [brew](https://brew.sh/).

```bash
brew install argp-standalone gflags pkgconfig
```

</details>

## 3.3 Prerequisites on Windows

Not available for TDengine TSDB-OSS.

## 3.4 Clone the repo

Clone the repository to the target machine:

```bash
git clone https://github.com/taosdata/TDengine.git
cd TDengine
```

</details>

# 4. Building

TDengine provide a few useful tools such as taosBenchmark (was named taosdemo) and taosdump. They were part of TDengine. By default, TDengine compiling does not include taosTools. You can use `cmake .. -DBUILD_TOOLS=true` to make them be compiled with TDengine.

TDengine requires [GCC](https://gcc.gnu.org/) 9.3.1 or higher and [CMake](https://cmake.org/) 3.18.0 or higher for building.

## 4.1 Build on Linux

<details>

<summary>Detailed steps to build on Linux</summary>

You can run the bash script `build.sh` to build both TDengine and taosTools including taosBenchmark and taosdump as below:

```bash
./build.sh
```

It equals to execute following commands:

```bash
mkdir debug && cd debug
cmake .. -DBUILD_TOOLS=true -DBUILD_CONTRIB=true
make
```

If you want to compile taosAdapter, you need to add the `-DBUILD_HTTP=false` option.

If you want to compile taosKeeper, you need to add the `-DBUILD_KEEPER=true` option.

You can use Jemalloc as memory allocator instead of glibc:

```bash
cmake .. -DJEMALLOC_ENABLED=ON
```

TDengine build script can auto-detect the host machine's architecture on x86, x86-64, arm64 platform.
You can also specify architecture manually by CPUTYPE option:

```bash
cmake .. -DCPUTYPE=aarch64 && cmake --build .
```

</details>

## 4.2 Build on macOS

<details>

<summary>Detailed steps to build on macOS</summary>

Please install XCode command line tools and cmake. Verified with XCode 11.4+ on Catalina and Big Sur.

```shell
mkdir debug && cd debug
cmake .. && cmake --build .
```

If you want to compile taosAdapter, you need to add the `-DBUILD_HTTP=false` option.

If you want to compile taosKeeper, you need to add the `-DBUILD_KEEPER=true` option.

</details>

## 4.3 Build on Windows

Not available for TDengine TSDB-OSS.

# 5. Packaging

The TDengine TSDB-OSS installer can NOT be created by this repository only, due to some component dependencies. We are still working on this improvement.

# 6. Installation

## 6.1 Install on Linux

<details>

<summary>Detailed steps to install on Linux</summary>

After building successfully, TDengine can be installed by:

```bash
sudo make install
```

Installing from source code will also configure service management for TDengine. Users can also choose to [install from packages](https://docs.tdengine.com/get-started/deploy-from-package/) for it.

</details>

## 6.2 Install on macOS

<details>

<summary>Detailed steps to install on macOS</summary>

After building successfully, TDengine can be installed by:

```bash
sudo make install
```

</details>

## 6.3 Install on Windows

Not available for TDengine TSDB-OSS.

# 7. Running

## 7.1 Run TDengine on Linux

<details>

<summary>Detailed steps to run on Linux</summary>

To start the service after installation on linux, in a terminal, use:

```bash
sudo systemctl start taosd
```

Then users can use the TDengine CLI to connect the TDengine server. In a terminal, use:

```bash
taos
```

If TDengine CLI connects the server successfully, welcome messages and version info are printed. Otherwise, an error message is shown.

If you don't want to run TDengine as a service, you can run it in current shell. For example, to quickly start a TDengine server after building, run the command below in terminal: (We take Linux as an example, command on Windows will be `taosd.exe`)

```bash
./build/bin/taosd -c test/cfg
```

In another terminal, use the TDengine CLI to connect the server:

```bash
./build/bin/taos -c test/cfg
```

Option `-c test/cfg` specifies the system configuration file directory.

</details>

## 7.2 Run TDengine on macOS

<details>

<summary>Detailed steps to run on macOS</summary>

To start the service after installation on macOS, double-click the /applications/TDengine to start the program, or in a terminal, use:

```bash
sudo launchctl start com.tdengine.taosd
```

Then users can use the TDengine CLI to connect the TDengine server. In a terminal, use:

```bash
taos
```

If TDengine CLI connects the server successfully, welcome messages and version info are printed. Otherwise, an error message is shown.

</details>


## 7.3 Run TDengine on Windows

Not available for TDengine TSDB-OSS.

# 8. Testing

For how to run different types of tests on TDengine, please see [Testing TDengine](./tests/README.md).

# 9. Releasing

For the complete list of TDengine Releases, please see [Releases](https://github.com/taosdata/TDengine/releases).

# 10. Workflow

TDengine build check workflow can be found in this [Github Action](https://github.com/taosdata/TDengine/actions/workflows/taosd-ci-build.yml). More workflows will be available soon.

# 11. Coverage

Latest TDengine test coverage report can be found on [coveralls.io](https://coveralls.io/github/taosdata/TDengine)

<details>

<summary>How to run the coverage report locally?</summary>
To create the test coverage report (in HTML format) locally, please run following commands:

```bash
cd tests
bash setup-lcov.sh -v 1.16 && ./run_local_coverage.sh -b main -c task 
# on main branch and run cases in longtimeruning_cases.task 
# for more information about options please refer to ./run_local_coverage.sh -h
```
> **NOTE:**
> Please note that the -b and -i options will recompile TDengine with the -DCOVER=true option, which may take a amount of time.

</details>

# 12. Contributing

Please follow the [contribution guidelines](CONTRIBUTING.md) to contribute to TDengine.

```
File: README-CN.md
```
<p align="center">
  <a href="https://www.taosdata.com" target="_blank">
  <img
    src="docs/assets/tdengine.svg"
    alt="TDengine"
    width="500"
  />
  </a>
</p>

简体中文 | [English](README.md) | [TDengine 云服务](https://cloud.taosdata.com/?utm_medium=cn&utm_source=github) | 很多职位正在热招中，请看 [这里](https://www.taosdata.com/careers/)

# 目录

1. [TDengine 简介](#1-tdengine-简介)
1. [文档](#2-文档)
1. [必备工具](#3-必备工具)
    - [3.1 Linux 预备](#31-Linux系统)
    - [3.2 macOS 预备](#32-macOS系统)
    - [3.3 Windows 预备](#3.3-Windows系统) 
    - [3.4 克隆仓库](#34-克隆仓库) 
1. [构建](#4-构建)
    - [4.1 Linux 系统上构建](#41-Linux系统上构建)
    - [4.2 macOS 系统上构建](#42-macOS系统上构建)
    - [4.3 Windows 系统上构建](#43-Windows系统上构建) 
1. [打包](#5-打包)
1. [安装](#6-安装)
    - [6.1 Linux 系统上安装](#61-Linux系统上安装)
    - [6.2 macOS 系统上安装](#62-macOS系统上安装)
    - [6.3 Windows 系统上安装](#63-Windows系统上安装)
1. [快速运行](#7-快速运行)
    - [7.1 Linux 系统上运行](#71-Linux系统上运行)
    - [7.2 macOS 系统上运行](#72-macOS系统上运行)
    - [7.3 Windows 系统上运行](#73-Windows系统上运行)
1. [测试](#8-测试)
1. [版本发布](#9-版本发布)
1. [工作流](#10-工作流)
1. [覆盖率](#11-覆盖率)
1. [成为社区贡献者](#12-成为社区贡献者)


# 1. 简介

TDengine 是一款开源、高性能、云原生、AI 驱动的时序数据库 (Time-Series Database, TSDB)。TDengine 能被广泛运用于物联网、工业互联网、车联网、IT 运维、金融等领域。除核心的时序数据库功能外，TDengine 还提供缓存、数据订阅、流式计算、AI 智能体等功能，是一极简的时序数据处理平台，最大程度的减小系统设计的复杂度，降低研发和运营成本。与其他时序数据库相比，TDengine 的主要优势如下：

- **高性能**：通过创新的存储引擎设计，无论是数据写入还是查询，TDengine 的性能比通用数据库快 10 倍以上，也远超其他时序数据库，存储空间不及通用数据库的 1/10。

- **云原生**：通过原生分布式的设计，充分利用云平台的优势，TDengine 提供了水平扩展能力，具备弹性、韧性和可观测性，支持 k8s 部署，可运行在公有云、私有云和混合云上。

- **极简时序数据平台**：TDengine 内建消息队列、缓存、流式计算、AI 智能体等功能，应用无需再集成 Kafka/Redis/HBase/Spark 等软件，大幅降低系统的复杂度，降低应用开发和运营成本。

- **分析能力**：支持 SQL，同时为时序数据特有的分析提供 SQL 扩展。通过超级表、存储计算分离、分区分片、预计算、自定义函数以及 AI Agent 等技术，TDengine 具备强大的分析能力。

- **AI智能体**：内置时序数据智能体 TDgpt, 无缝连接时序数据基础模型、大语言模型、机器学习、传统统计算法等，提供时序数据预测、异常检测、数据补全和数据分类的功能。

- **简单易用**：无任何依赖，安装、集群几秒搞定；提供 REST 以及各种语言连接器，与众多第三方工具无缝集成；提供命令行程序，便于管理和即席查询；提供各种运维工具。

- **核心开源**：TDengine 的核心代码包括集群功能全部开源，截止到 2022 年 8 月 1 日，全球超过 135.9k 个运行实例，GitHub Star 18.7k，Fork 4.4k，社区活跃。

了解TDengine高级功能的完整列表，请 [点击](https://tdengine.com/tdengine/)。体验 TDengine 最简单的方式是通过 [TDengine云平台](https://cloud.tdengine.com)。对最新发布的 TDengine 组件 TDgpt，请访问 [TDgpt README](./tools/tdgpt/README.md) 了解细节。

# 2. 文档

关于完整的使用手册，系统架构和更多细节，请参考 [TDengine](https://www.taosdata.com/) 或者 [TDengine 官方文档](https://docs.taosdata.com)。

用户可根据需求选择通过 [容器](https://docs.taosdata.com/get-started/docker/)、[安装包](https://docs.taosdata.com/get-started/package/)、[Kubernetes](https://docs.taosdata.com/deployment/k8s/) 来安装或直接使用无需安装部署的 [云服务](https://cloud.taosdata.com/)。本快速指南是面向想自己编译、打包、测试的开发者的。
  
如果想编译或测试 TDengine 连接器，请访问以下仓库：[JDBC连接器](https://github.com/taosdata/taos-connector-jdbc)、[Go连接器](https://github.com/taosdata/driver-go)、[Python连接器](https://github.com/taosdata/taos-connector-python)、[Node.js连接器](https://github.com/taosdata/taos-connector-node)、[C#连接器](https://github.com/taosdata/taos-connector-dotnet)、[Rust连接器](https://github.com/taosdata/taos-connector-rust)。

# 3. 前置条件

TDengine 目前可以在 Linux 和 macOS 平台上安装和运行 (企业版支持 Windows)。任何 OS 的应用也可以选择 taosAdapter 的 RESTful 接口连接服务端 taosd。CPU 支持 X64、ARM64，后续会支持 MIPS64、Alpha64、ARM32、RISC-V 等 CPU 架构。目前不支持使用交叉编译器构建。

如果你想要编译 taosAdapter 或者 taosKeeper，需要安装 Go 1.23 及以上版本。

## 3.1 Linux 系统

<details>

<summary>安装 Linux 必备工具</summary>

### Ubuntu 18.04、20.04、22.04

```bash
sudo apt-get update
sudo apt-get install -y gcc cmake build-essential git libjansson-dev \
  libsnappy-dev liblzma-dev zlib1g-dev pkg-config
```

### CentOS 8

```bash
sudo yum update
yum install -y epel-release gcc gcc-c++ make cmake git perl dnf-plugins-core 
yum config-manager --set-enabled powertools
yum install -y zlib-static xz-devel snappy-devel jansson-devel pkgconfig libatomic-static libstdc++-static 
```

</details>

## 3.2 macOS 系统

<details>

<summary>安装 macOS 必备工具</summary>

根据提示安装依赖工具 [brew](https://brew.sh/)

```bash
brew install argp-standalone gflags pkgconfig
```

</details>

## 3.3 Windows 系统

<details>

<summary>安装 Windows 必备工具</summary>

进行中。

</details>

## 3.4 克隆仓库

通过如下命令将 TDengine 仓库克隆到指定计算机：

```bash
git clone https://github.com/taosdata/TDengine.git
cd TDengine
```

# 4. 构建

TDengine 还提供一组辅助工具软件 taosTools，目前它包含 taosBenchmark（曾命名为 taosdemo）和 taosdump 两个软件。默认 TDengine 编译不包含 taosTools，您可以在编译 TDengine 时使用 `cmake .. -DBUILD_TOOLS=true` 来同时编译 taosTools。

为了构建 TDengine，请使用 [CMake](https://cmake.org/) 3.13.0 或者更高版本。

## 4.1 Linux 系统上构建

<details>

<summary>Linux 系统上构建步骤</summary>

可以通过以下命令使用脚本 `build.sh` 编译 TDengine 和 taosTools，包括 taosBenchmark 和 taosdump。

```bash
./build.sh
```

也可以通过以下命令进行构建：

```bash
mkdir debug && cd debug
cmake .. -DBUILD_TOOLS=true -DBUILD_CONTRIB=true
make
```

如果你想要编译 taosAdapter，需要添加 `-DBUILD_HTTP=false` 选项。

如果你想要编译 taosKeeper，需要添加 `-DBUILD_KEEPER=true` 选项。

可以使用 Jemalloc 作为内存分配器，而不是使用 glibc：

```bash
cmake .. -DJEMALLOC_ENABLED=ON
```
TDengine 构建脚本可以自动检测 x86、x86-64、arm64 平台上主机的体系结构。
您也可以通过 CPUTYPE 选项手动指定架构：

```bash
cmake .. -DCPUTYPE=aarch64 && cmake --build .
```

</details>

## 4.2 macOS 系统上构建

<details>

<summary>macOS 系统上构建步骤</summary>

请安装 XCode 命令行工具和 cmake。使用 XCode 11.4+ 在 Catalina 和 Big Sur 上完成验证。

```shell
mkdir debug && cd debug
cmake .. && cmake --build .
```

如果你想要编译 taosAdapter，需要添加 `-DBUILD_HTTP=false` 选项。

如果你想要编译 taosKeeper，需要添加 `-DBUILD_KEEPER=true` 选项。

</details>

## 4.3 Windows 系统上构建

<details>

<summary>Windows 系统上构建步骤</summary>

如果您使用的是 Visual Studio 2013，请执行 “cmd.exe” 打开命令窗口执行如下命令。
执行 vcvarsall.bat 时，64 位的 Windows 请指定 “amd64”，32 位的 Windows 请指定 “x86”。

```cmd
mkdir debug && cd debug
"C:\Program Files (x86)\Microsoft Visual Studio 12.0\VC\vcvarsall.bat" < amd64 | x86 >
cmake .. -G "NMake Makefiles"
nmake
```

如果您使用 Visual Studio 2019 或 2017：

请执行 “cmd.exe” 打开命令窗口执行如下命令。
执行 vcvarsall.bat 时，64 位的 Windows 请指定 “x64”，32 位的 Windows 请指定 “x86”。

```cmd
mkdir debug && cd debug
"C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvarsall.bat" < x64 | x86 >
cmake .. -G "NMake Makefiles"
nmake
```

或者，您可以通过点击 Windows 开始菜单打开命令窗口 -> `Visual Studio < 2019 | 2017 >` 文件夹 -> `x64 原生工具命令提示符 VS < 2019 | 2017 >` 或 `x86 原生工具命令提示符  < 2019 | 2017 >` 取决于你的 Windows 是什么架构，然后执行命令如下：

```cmd
mkdir debug && cd debug
cmake .. -G "NMake Makefiles"
nmake
```
</details>

# 5. 打包

由于一些组件依赖关系，TDengine 社区安装程序不能仅由该存储库创建。我们仍在努力改进。

# 6. 安装


## 6.1 Linux 系统上安装

<details>

<summary>Linux 系统上安装详细步骤</summary>

构建成功后，TDengine 可以通过以下命令进行安装：

```bash
sudo make install
```
从源代码安装还将为 TDengine 配置服务管理。用户也可以使用 [TDengine安装包](https://docs.taosdata.com/get-started/package/)进行安装。 

</details>

## 6.2 macOS 系统上安装

<details>

<summary>macOS 系统上安装详细步骤</summary>

构建成功后，TDengine可以通过以下命令进行安装：

```bash
sudo make install
```

</details>

## 6.3 Windows 系统上安装

<details>

<summary>Windows 系统上安装详细步骤</summary>

构建成功后，TDengine 可以通过以下命令进行安装：

```cmd
nmake install
```

</details>

# 7. 快速运行

## 7.1 Linux 系统上运行

<details>

<summary>Linux 系统上运行详细步骤</summary>

在Linux 系统上安装 TDengine 完成后，在终端运行如下命令启动服务：

```bash
sudo systemctl start taosd
```
然后用户可以通过如下命令使用 TDengine 命令行连接 TDengine 服务：

```bash
taos
```

如果 TDengine 命令行连接服务器成功，系统将打印欢迎信息和版本信息。否则，将显示连接错误信息。

如果您不想将 TDengine 作为服务运行，您可以在当前终端中运行它。例如，要在构建完成后快速启动 TDengine 服务器，在终端中运行以下命令：（以 Linux 为例，Windows 上的命令为 `taosd.exe`）

```bash
./build/bin/taosd -c test/cfg
```

在另一个终端上，使用 TDengine 命令行连接服务器：

```bash
./build/bin/taos -c test/cfg
```

选项 `-c test/cfg` 指定系统配置文件的目录。

</details>

## 7.2 macOS 系统上运行

<details>

<summary>macOS 系统上运行详细步骤</summary>

在 macOS 上安装完成后启动服务，双击 `/applications/TDengine` 启动程序，或者在终端中执行如下命令：

```bash
sudo launchctl start com.tdengine.taosd
```

然后在终端中使用如下命令通过 TDengine 命令行连接 TDengine 服务器：

```bash
taos
```

如果 TDengine 命令行连接服务器成功，系统将打印欢迎信息和版本信息。否则，将显示错误信息。

</details>


## 7.3 Windows 系统上运行

<details>

<summary>Windows 系统上运行详细步骤</summary>

您可以使用以下命令在 Windows 平台上启动 TDengine 服务器：

```cmd
.\build\bin\taosd.exe -c test\cfg
```

在另一个终端上，使用 TDengine 命令行连接服务器：

```cmd
.\build\bin\taos.exe -c test\cfg
```

选项 `-c test/cfg` 指定系统配置文件的目录。

</details>

# 8. 测试

有关如何在 TDengine 上运行不同类型的测试，请参考 [TDengine测试](./tests/README-CN.md)

# 9. 版本发布

TDengine 发布版本的完整列表，请参考 [版本列表](https://github.com/taosdata/TDengine/releases)

# 10. 工作流

TDengine 构建检查工作流可以在参考 [Github Action](https://github.com/taosdata/TDengine/actions/workflows/taosd-ci-build.yml)，更多的工作流正在创建中，将很快可用。

# 11. 覆盖率

最新的 TDengine 测试覆盖率报告可参考 [coveralls.io](https://coveralls.io/github/taosdata/TDengine)

<details>

<summary>如何在本地运行测试覆盖率报告？</summary>

在本地创建测试覆盖率报告（HTML 格式），请运行以下命令：

```bash
cd tests
bash setup-lcov.sh -v 1.16 && ./run_local_coverage.sh -b main -c task 
# on main branch and run cases in longtimeruning_cases.task 
# for more information about options please refer to ./run_local_coverage.sh -h
```
> **注意**：
> 请注意，-b 和 -i 选项将使用 -DCOVER=true 选项重新编译 TDengine，这可能需要花费一些时间。

</details>

# 12. 成为社区贡献者

点击 [这里](https://www.taosdata.com/contributor)，了解如何成为 TDengine 的贡献者。

```
File: CMakeLists.txt
```
cmake_minimum_required(VERSION 3.16)

project(
  TDengine
  VERSION 3.0
  DESCRIPTION
    "An open-source big data platform designed and optimized for the Internet of Things(IOT)"
)

# ref: https://cmake.org/cmake/help/latest/command/cmake_policy.html
#     `CMake keeps policy settings on a stack`
if(CMAKE_VERSION VERSION_GREATER_EQUAL "3.24")
  cmake_policy(SET CMP0135 NEW)
endif()

if(NOT DEFINED TD_ENTERPRISE_DIR)
  set(TD_COMMUNITY_DIR ${CMAKE_CURRENT_SOURCE_DIR})
  set(TD_SOURCE_DIR ${TD_COMMUNITY_DIR})
  set(TD_SUPPORT_DIR "${TD_SOURCE_DIR}/cmake")
  set(TD_CONTRIB_DIR "${TD_SOURCE_DIR}/contrib")

  message(STATUS "Community directory: " ${TD_COMMUNITY_DIR})
  message(STATUS "Source directory: " ${TD_SOURCE_DIR})
  message(STATUS "Support directory: " ${TD_SUPPORT_DIR})
  message(STATUS "Contrib directory: " ${TD_CONTRIB_DIR})

  include(cmake/preinclude.cmake)
  include(cmake/platform.cmake)
  include(cmake/options.cmake)
  include(cmake/check_env.cmake)
  include(cmake/define.cmake)
  include(cmake/version.cmake)
  include(cmake/external.cmake)
endif()

set_property(GLOBAL PROPERTY GLOBAL_DEPENDS_NO_CYCLES OFF)
add_subdirectory(contrib)

if(${BUILD_TEST})
  include(CTest)
  enable_testing()
endif(${BUILD_TEST})

add_library(api INTERFACE)
target_include_directories(api INTERFACE "include/client")

add_subdirectory(contrib/TSZ)
add_subdirectory(source)
add_subdirectory(tools)
add_subdirectory(utils)
add_subdirectory(tests)
add_subdirectory(examples/c)
add_subdirectory(docs/doxgen)

include(cmake/install.cmake)
include(CPack)

message(STATUS "TAOSADAPTER_BUILD_OPTIONS:${TAOSADAPTER_BUILD_OPTIONS}")
message(STATUS "TAOSADAPTER_GIT_TAG:${TAOSADAPTER_GIT_TAG}")
message(STATUS "TAOSADAPTER_GIT_TAG_NAME:${TAOSADAPTER_GIT_TAG_NAME}")
message(STATUS "TAOSADAPTER_GIT_TAG_SHALLOW:${TAOSADAPTER_GIT_TAG_SHALLOW}")

message(STATUS "TAOSWS_GIT_TAG_NAME:${TAOSWS_GIT_TAG_NAME}")


```
File: build.bat
```
@echo off 

setlocal

if "%TD_CONFIG%"=="" set "TD_CONFIG=Debug"

for /F "tokens=1,* delims= " %%A in ("%*") do (
    if "%%A" EQU "gen" (
        call :do_gen %%B
        exit /B
    )
    if "%%A" EQU "bld" (
        call :do_bld %%B
        exit /B
    )
    if "%%A" EQU "install" (
        call :do_stop
        call :do_install %%B
        exit /B
    )
    if "%%A" EQU "test" (
        call :do_test %%B
        exit /B
    )
    if "%%A" EQU "start" (
        call :do_start
        exit /B
    )
    if "%%A" EQU "stop" (
        call :do_stop
        exit /B
    )
    if "%%A" EQU "purge" (
        call :do_stop
        call :do_purge
        exit /B
    )
)

echo "env TD_CONFIG denotes which to build for: <Debug/Release>, Debug by default"
echo "to generate make files: .\build.bat gen [cmake options]"
echo "to build:               .\build.bat bld [cmake options for --build]"
echo "to install:             .\build.bat install [cmake options for --install]"
echo "to run test:            .\build.bat test [ctest options]"
echo "to start:               .\build.bat start"
echo "to stop:                .\build.bat stop"
echo "to purge:               .\build.bat purge"
exit /B

:do_gen
cmake -B debug -G "NMake Makefiles" ^
        -DLOCAL_REPO:STRING=%LOCAL_REPO% ^
        -DLOCAL_URL:STRING=%LOCAL_URL% ^
        -DBUILD_TOOLS=true ^
        -DBUILD_KEEPER=true ^
        -DBUILD_HTTP=false ^
        -DBUILD_TEST=true ^
        -DWEBSOCKET=true ^
        -DBUILD_DEPENDENCY_TESTS=false ^
        %*
exit /B

:do_bld
cmake --build debug --config %TD_CONFIG% -j4 %*
exit /B

:do_install
cmake --install debug --config %TD_CONFIG% %*
exit /B

:do_start
sc start taosd
sc start taosadapter
sc start taoskeeper
exit /B

:do_stop
sc stop taoskeeper
sc stop taosadapter
sc stop taosd
exit /B

:do_purge
sc delete taoskeeper
sc delete taosadapter
sc delete taosd
rmdir /s /q C:\TDengine
exit /B

:do_test
ctest --test-dir debug -C %TD_CONFIG% --output-on-failure %*
exit /B

endlocal

exit /B

```
File: build.sh
```
#!/bin/bash

# beg =========================
# senario 1: give it a try for the first time
#   ./build.sh first-try
#
# senario 2: building release version, for internal use only, or take you own risk
#            still under development
#   TD_CONFIG=Release ./build.sh gen -DVERNUMBER=xxxx ....
#   TD_CONFIG=Release ./build.sh bld
#
# senario 3: daily routine for development, after you have tried ./build.sh gen
#   ./build.sh bld
#   ./build.sh install
#   ./build.sh start
#   ./build.sh test
#
# senario 4: specify different options to build the systme
#   # set xxx of type to yyy, and configure the build system
#   ./build.sh gen -Dxxx:type=yyy
#   # what types are valid: cmake --help-command set | less
#
#   # clear the xxx out of cmake cache, and let the build system automatically choose correct value for xxx
#   ./build.sh gen -Uxxx
#
#   # combine all in one execution
#   ./build.sh gen -Dxxx:type=yyy -Uzzz -Dmmm:type=nnn
#
# senario 5: list targets of this build system
#   ./build.sh bld --target help
#
# senario 6: build specific target, taking `shell` as example:
#   ./build.sh bld --target shell
#
# senario 7: checkout specific branch/tag of taosadapter.git and build upon
#   ./build.sh gen -DTAOSADAPTER_GIT_TAG:STRING=ver-3.3.6.0
#   ./build.sh bld
#
# senario 8: build taosadapter with specific go build options, taking `-a -x` as example:
#   ./build.sh gen -DTAOSADA
... (truncated due to size)

================================ Human Message =================================


The commands you have run:```
apt-get update && apt-get install -y gcc cmake build-essential git libjansson-dev libsnappy-dev liblzma-dev zlib1g-dev pkg-config, mkdir -p debug && cd debug && cmake .. -DBUILD_TOOLS=true -DBUILD_TEST=true```
Following are the last 5 messages:

================================== Ai Message ==================================

Thought: Based on the project structure and README files, this appears to be the TDengine time-series database project. To run the tests, I need to first install the build dependencies and then build the project using CMake.

Action: <command>apt-get update && apt-get install -y gcc cmake build-essential git libjansson-dev libsnappy-dev liblzma-dev zlib1g-dev pkg-config</command>
================================ Human Message =================================

Observation:
apt-get update && apt-get install -y gcc cmake build-essential git libjansson-devv libsnappy-dev liblzma-dev zlib1g-dev pkg-config
0% [Working]0% [Waiting for headers] [Waiting for headers]                                              Hit:1 http://security.ubuntu.com/ubuntu jammy-security InRelease
                                              0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]                        Hit:2 http://archive.ubuntu.com/ubuntu jammy InRelease
                        0% [Working]0% [Waiting for headers]0% [Waiting for headers]                        Hit:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease
                        0% [Working]0% [Waiting for headers]                        Hit:4 http://archive.ubuntu.com/ubuntu jammy-backports InRelease
                        0% [Working]20% [Working]             Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 4%Reading package lists... 4%Reading package lists... 43%Reading package lists... 43%Reading package lists... 43%Reading package lists... 43%Reading package lists... 53%Reading package lists... 53%Reading package lists... 66%Reading package lists... 68%Reading package lists... 68%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 73%Reading package lists... 73%Reading package lists... 73%Reading package lists... 73%Reading package lists... 81%Reading package lists... 81%Reading package lists... 96%Reading package lists... 96%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 4%Reading package lists... 4%Reading package lists... 43%Reading package lists... 43%Reading package lists... 43%Reading package lists... 43%Reading package lists... 53%Reading package lists... 53%Reading package lists... 68%Reading package lists... 68%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 73%Reading package lists... 73%Reading package lists... 73%Reading package lists... 73%Reading package lists... 81%Reading package lists... 81%Reading package lists... 93%Reading package lists... 96%Reading package lists... 96%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 2%Reading state information... Done
git is already the newest version (1:2.34.1-1ubuntu1.15).
The following additional packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu bzip2 cmake-data cpp
  cpp-11 dh-elpa-helper dirmngr dpkg-dev emacsen-common fakeroot
  fontconfig-config fonts-dejavu-core g++ g++-11 gcc-11 gcc-11-base gnupg
  gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpg-wks-server gpgconf
  gpgsm libalgorithm-diff-perl libalgorithm-diff-xs-perl
  libalgorithm-merge-perl libarchive13 libasan6 libassuan0 libatomic1
  libbinutils libc-dev-bin libc-devtools libc6-dev libcc1-0 libcrypt-dev
  libctf-nobfd0 libctf0 libcurl4 libdeflate0 libdpkg-perl libfakeroot
  libfile-fcntllock-perl libfontconfig1 libfreetype6 libgcc-11-dev libgd3
  libglib2.0-0 libglib2.0-data libgomp1 libicu70 libisl23 libitm1 libjansson4
  libjbig0 libjpeg-turbo8 libjpeg8 libjsoncpp25 libksba8
  liblocale-gettext-perl liblsan0 libmpc3 libmpfr6 libnpth0 libnsl-dev
  libpng16-16 libquadmath0 libreadline8 librhash0 libsnappy1v5 libsqlite3-0
  libstdc++-11-dev libtiff5 libtirpc-dev libtsan0 libubsan1 libuv1 libwebp7
  libxml2 libxpm4 linux-....stripped due to length....
rnatives: warning: skip creation of /usr/share/man/man1/lzfgrep.1.gz because associated file /usr/share/man/man1/xzfgrep.1.gz (of link group lzma) doesn't exist
Setting up libquadmath0:amd64 (12.3.0-1ubuntu1~22.04) ...
Setting up libpng16-16:amd64 (1.6.37-3build5) ...
Setting up libmpc3:amd64 (1.2.1-2build1) ...
Setting up libatomic1:amd64 (12.3.0-1ubuntu1~22.04) ...
Setting up libjsoncpp25:amd64 (1.9.5-3) ...
Setting up fonts-dejavu-core (2.37-2build1) ...
Setting up ucf (3.0043) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
debconf: falling back to frontend: Readline
Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Setting up libdpkg-perl (1.21.1ubuntu2.3) ...
Setting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Setting up liblzma-dev:amd64 (5.2.5-2ubuntu1) ...
Setting up libubsan1:amd64 (12.3.0-1ubuntu1~22.04) ...
Setting up libnsl-dev:amd64 (1.3.0-2build2) ...
Setting up librhash0:amd64 (1.4.2-1ubuntu1) ...
Setting up libcrypt-dev:amd64 (1:4.4.27-1) ...
Setting up libcurl4:amd64 (7.81.0-1ubuntu1.20) ...
Setting up cmake-data (3.22.1-1ubuntu1.22.04.2) ...
Setting up libbinutils:amd64 (2.38-4ubuntu2.8) ...
Setting up libisl23:amd64 (0.24-2build1) ...
Setting up libc-dev-bin (2.35-0ubuntu3.10) ...
Setting up libalgorithm-diff-xs-perl (0.04-6build3) ...
Setting up readline-common (8.1.2-1) ...
Setting up libcc1-0:amd64 (12.3.0-1ubuntu1~22.04) ...
Setting up libjansson-dev:amd64 (2.13.1-1.1build3) ...
Setting up liblocale-gettext-perl (1.07-4build3) ...
Setting up liblsan0:amd64 (12.3.0-1ubuntu1~22.04) ...
Setting up libitm1:amd64 (12.3.0-1ubuntu1~22.04) ...
Setting up libicu70:amd64 (70.1-2) ...
Setting up libalgorithm-merge-perl (0.08-3) ...
Setting up libtsan0:amd64 (11.4.0-1ubuntu1~22.04) ...
Setting up libctf0:amd64 (2.38-4ubuntu2.8) ...
Setting up libjpeg8:amd64 (8c-2ubuntu10) ...
Setting up pinentry-curses (1.1.1-1build2) ...
Setting up cpp-11 (11.4.0-1ubuntu1~22.04) ...
Setting up manpages-dev (5.10-1ubuntu1) ...
Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...
Setting up libreadline8:amd64 (8.1.2-1) ...
Setting up libsnappy-dev:amd64 (1.1.8-1build3) ...
Setting up libfreetype6:amd64 (2.11.1+dfsg-1ubuntu0.3) ...
Setting up pkg-config (0.29.2-1ubuntu3) ...
Setting up libgcc-11-dev:amd64 (11.4.0-1ubuntu1~22.04) ...
Setting up cpp (4:11.2.0-1ubuntu1) ...
Setting up gpgconf (2.2.27-3ubuntu2.4) ...
Setting up libc6-dev:amd64 (2.35-0ubuntu3.10) ...
Setting up libtiff5:amd64 (4.3.0-6ubuntu0.10) ...
Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Setting up libxml2:amd64 (2.9.13+dfsg-1ubuntu0.7) ...
Setting up gpg (2.2.27-3ubuntu2.4) ...
Setting up gnupg-utils (2.2.27-3ubuntu2.4) ...
Setting up binutils-x86-64-linux-gnu (2.38-4ubuntu2.8) ...
Setting up gpg-agent (2.2.27-3ubuntu2.4) ...
Setting up libarchive13:amd64 (3.6.0-1ubuntu1.5) ...
Setting up gpgsm (2.2.27-3ubuntu2.4) ...
Setting up binutils (2.38-4ubuntu2.8) ...
Setting up dpkg-dev (1.21.1ubuntu2.3) ...
Setting up dirmngr (2.2.27-3ubuntu2.4) ...
Setting up shared-mime-info (2.1-2) ...
Setting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...
Setting up libstdc++-11-dev:amd64 (11.4.0-1ubuntu1~22.04) ...
Setting up gpg-wks-server (2.2.27-3ubuntu2.4) ...
Setting up zlib1g-dev:amd64 (1:1.2.11.dfsg-2ubuntu9.2) ...
Setting up gcc-11 (11.4.0-1ubuntu1~22.04) ...
Setting up cmake (3.22.1-1ubuntu1.22.04.2) ...
Setting up libc-devtools (2.35-0ubuntu3.10) ...
Setting up gpg-wks-client (2.2.27-3ubuntu2.4) ...
Setting up g++-11 (11.4.0-1ubuntu1~22.04) ...
Setting up gcc (4:11.2.0-1ubuntu1) ...
Setting up g++ (4:11.2.0-1ubuntu1) ...
update-alternatives: using /usr/bin/g++ to provide /usr/bin/c++ (c++) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/c++.1.gz because associated file /usr/share/man/man1/g++.1.gz (of link group c++) doesn't exist
Setting up gnupg (2.2.27-3ubuntu2.4) ...
Setting up build-essential (12.9ubuntu3) ...
Processing triggers for libc-bin (2.35-0ubuntu3.10) ...


root@4b5215859c09:/testbed $

exit code: 0

================================== Ai Message ==================================

Thought: Now that the build dependencies are installed, I should proceed to build the project using CMake as specified in the README. The project has a CMakeLists.txt file, so I'll create a build directory and run cmake.

Action: <command>mkdir -p debug && cd debug && cmake .. -DBUILD_TOOLS=true -DBUILD_TEST=true</command>
================================ Human Message =================================

Observation:
mkdir -p debug && cd debug && cmake .. -DBUILD_TOOLS=true -DBUILD_TEST=true
-- The C compiler identification is GNU 11.4.0
-- The CXX compiler identification is GNU 11.4.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Community directory: /testbed
-- Source directory: /testbed
-- Support directory: /testbed/cmake
-- Contrib directory: /testbed/contrib
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE  
Current system: Linux
Current system processor: x86_64
-- The shell is: dash

-- The current OS is Ubuntu
-- Current platform is amd64
-- Platform arch:amd64
-- DEPS_DIR: x86
C Compiler: /usr/bin/cc (GNU, 11.4.0)
CXX Compiler: /usr/bin/c++ (GNU, 11.4.0)
switch shared storage off with community version
-- BUILD_SHARED_STORAGE:OFF
-- BUILD_WITH_S3:OFF
-- BUILD_WITH_COS:OFF
-- does not check and use externals installed on the system
-- Project source directory: /testbed
-- Project binary files output path: /testbed/debug
-- Project executable files output path: /testbed/debug/build/bin
-- Project library files output path: /testbed/debug/build/lib

 Will build taos_tools! 

-- build with TSZ enabled
-- Performing Test COMPILER_SUPPORT_SSE42
-- Performing Test COMPILER_SUPPORT_SSE42 - Success
-- Performing Test COMPILER_SUPPORT_FMA
-- Performing Test COMPILER_SUPPORT_FMA - Success
-- Performing Test COMPILER_SUPPORT_AVX
-- Performing Test COMPILER_SUPPORT_AVX - Success
-- Performing Test COMPILER_SUPPORT_AVX2
-- Performing Test COMPILER_SUPPORT_AVX2 - Success
-- Performing Test COMPILER_SUPPORT_AVX512F
-- Performing Test COMPILER_SUPPORT_AVX512F - Success
-- Performing Test COMPILER_SUPPORT_AVX512BMI
-- Performing Test COMPILER_SUPPORT_AVX512BMI - Success
-- Performing Test COMPILER_SUPPORT_AVX512VL
-- Performing Test COMPILER_SUPPORT_AVX512VL - Success
-- JEMALLOC Disabled
-- TD_COMMUNITY_DIR:/testbed
-- PROJECT_SOURCE_DIR:/testbed
-- TD_VER_GIT_INTERNAL: 
-- TD_VER_GIT: ee078f0a17d159f500d6e6296aa549db8d99c089
-- ============= compile version parameter information start ============= 
-- version:    3.3.7.0.alpha
-- compatible: 3.0.0.0
-- commit id:  ee078f0a17d159f500d6e6296aa549db8d99c089
-- build date: 2025-08-02 16:16:45 +0000
-- build type: 
-- type:       stable
-- cpu:        x64
-- os:         Linux
-- ============= compile version parameter information end  ============= 
-- TD_EXTERNALS_BASE_DIR:/testbed/.externals
-- TD_INTERNALS_BASE_DIR:/testbed/.internals
BUILD_HTTP is off, use taosAdapter
build with dependency tests: ON
contrib test/rocksdb:ON
-- AVX2 instructions is ACTIVATED
-- enable assert core
-- Debugging ............................
-- PROJECT_BINARY_DIR:/testbed/debug
-- build parser unit test
-- build qcom unit test
-- build nodes unit test
-- build catalog unit test
-- build filter unit test
-- build scalar unit test
-- AVX2 instructions is ACTIVATED
-- Debugging ............................
-- CMAKE_CURRENT_BINARY_DIR:/testbed/debug/source/libs/parser
-- build parser unit test
-- build scheduler unit test
-- build parser unit test
-- build new-stream unit test
-- build planner unit test
-- build qworker unit test
-- build geometry unit test
-- build command unit test
-- build decimal unit test
-- Building decimal/src/detail
-- Debugging ............................
-- TAOS_NATIVE_LIB:taosnative
-- TD_SOURCE_DIR:/testbed
-- build parser unit test
-- tq unit test
-- NOT BUILD_DM_MODULE
-- Found PkgConfig: /usr/bin/pkg-config (found version "0.29.2") 
-- The current platform x86_64 is detected
-- The current platform is amd64
-- Set CPUTYPE to x64
collect --version show info:
-- version:3.3.7.0.alpha
-- Found Git: /usr/bin/git (found version "2.34.1") 
-- taosdump commit id: ee078f0a17d159f500d6e6296aa549db8d99c089
-- taosBenchmark commit id: ee078f0a17d159f500d6e6296aa549db8d99c089
-- build:Linux-x64 2025-08-02 16:16:45 +0000

Current system is: Linux
-- build taos-tools unit test
-- build taos-CLI unit test
collect --version show info:
-- taos version:3.3.7.0.alpha

 use original embedded httpd 

-- TAOSADAPTER_BUILD_OPTIONS:
-- TAOSADAPTER_GIT_TAG:main
-- TAOSADAPTER_GIT_TAG_NAME:main
-- TAOSADAPTER_GIT_TAG_SHALLOW:TRUE
-- TAOSWS_GIT_TAG_NAME:main
-- Configuring done
-- Generating done
-- Build files have been written to: /testbed/debug


root@4b5215859c09:/testbed/debug $

exit code: 0

##### LLM OUTPUT #####
================================== Ai Message ==================================

Thought: The CMake configuration completed successfully. Now I need to build the project using the generated Makefiles. According to the README, I should use `make` to build the project.

Action: <command>make -j4</command>